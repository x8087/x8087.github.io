<!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="vim,笔记,技巧," />





  <link rel="alternate" href="/atom.xml" title="假如上帝不是程序员" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/images/favicon.ico?v=5.1.0" />






<meta name="description" content="0. Vim解决问题的方式结识. [^hpoint] 命令功能 重复上次修改注意 

插入模式下,重复从进入到结束的所有操作(移动光标会重置修改状态)
.命令事实上是一个微型的宏




操作
功能




x
删除光标下字符


dd
删除整行


&amp;gt;G
增加当前行到文档末尾处的缩进层级">
<meta property="og:type" content="article">
<meta property="og:title" content="实用技巧">
<meta property="og:url" content="http://x8087.github.io/2015/08/07/Vim实用技巧/index.html">
<meta property="og:site_name" content="假如上帝不是程序员">
<meta property="og:description" content="0. Vim解决问题的方式结识. [^hpoint] 命令功能 重复上次修改注意 

插入模式下,重复从进入到结束的所有操作(移动光标会重置修改状态)
.命令事实上是一个微型的宏




操作
功能




x
删除光标下字符


dd
删除整行


&amp;gt;G
增加当前行到文档末尾处的缩进层级">
<meta property="og:updated_time" content="2016-11-26T02:48:25.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="实用技巧">
<meta name="twitter:description" content="0. Vim解决问题的方式结识. [^hpoint] 命令功能 重复上次修改注意 

插入模式下,重复从进入到结束的所有操作(移动光标会重置修改状态)
.命令事实上是一个微型的宏




操作
功能




x
删除光标下字符


dd
删除整行


&amp;gt;G
增加当前行到文档末尾处的缩进层级">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '12948511',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://x8087.github.io/2015/08/07/Vim实用技巧/"/>





  <title> 实用技巧 | 假如上帝不是程序员 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  



  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?9d2df6bea6a5f9af49a265803692cb1b";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>



  <script type="text/javascript">
    (function() {
      var hm = document.createElement("script");
      hm.src = "//tajs.qq.com/stats?sId=59604490";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>






  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">假如上帝不是程序员</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">--存在就是最大的bug</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://x8087.github.io/2015/08/07/Vim实用技巧/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="x8087">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="假如上帝不是程序员">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="假如上帝不是程序员" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                实用技巧
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2015-08-07T09:40:52+08:00">
                2015-08-07
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              <span class="post-meta-item-text">更新于</span>
              <time title="更新于" itemprop="dateModified" datetime="2016-11-26T10:48:25+08:00">
                2016-11-26
              </time>
            
          </span>

          
            <span class="post-category" >
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/note/" itemprop="url" rel="index">
                    <span itemprop="name">笔记</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2015/08/07/Vim实用技巧/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2015/08/07/Vim实用技巧/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          
             <span id="/2015/08/07/Vim实用技巧/" class="leancloud_visitors" data-flag-title="实用技巧">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          
            <span class="post-meta-divider">|</span>
            <span class="page-pv"><i class="fa fa-file-o"></i>
            <span class="busuanzi-value" id="busuanzi_value_page_pv" ></span>
            </span>
          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="0-Vim解决问题的方式"><a href="#0-Vim解决问题的方式" class="headerlink" title="0. Vim解决问题的方式"></a>0. Vim解决问题的方式</h2><h3 id="结识-hpoint-命令"><a href="#结识-hpoint-命令" class="headerlink" title="结识. [^hpoint] 命令"></a>结识<code>.</code> [^hpoint] 命令</h3><p><strong>功能</strong> 重复上次修改<br><strong>注意</strong> </p>
<ul>
<li>插入模式下,重复从进入到结束的所有操作(<em>移动光标会重置修改状态</em>)</li>
<li><code>.</code>命令事实上是一个微型的宏</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">操作</th>
<th>功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>x</code></td>
<td>删除光标下字符</td>
</tr>
<tr>
<td style="text-align:center"><code>dd</code></td>
<td>删除整行</td>
</tr>
<tr>
<td style="text-align:center"><code>&gt;G</code></td>
<td>增加当前行到文档末尾处的缩进层级</td>
</tr>
</tbody>
</table>
<a id="more"></a>
<h3 id="不要自我重复"><a href="#不要自我重复" class="headerlink" title="不要自我重复"></a>不要自我重复</h3><h4 id="减少无关移动"><a href="#减少无关移动" class="headerlink" title="减少无关移动"></a>减少无关移动</h4><p><font color="green"><strong>example1:</strong>在行末添加分号</font><br>方法1</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$</div><div class="line">a;&lt;Esc&gt;</div><div class="line">j$.</div></pre></td></tr></table></figure>
<p>方法2:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">A;&lt;Esc&gt;</div><div class="line">j.</div></pre></td></tr></table></figure>
<h4 id="复合命令"><a href="#复合命令" class="headerlink" title="复合命令"></a>复合命令</h4><blockquote>
<p>执行动作的同时自动从普通模式切换到插入模式</p>
</blockquote>
<h4 id="常用复合命令"><a href="#常用复合命令" class="headerlink" title="常用复合命令"></a>常用复合命令</h4><table>
<thead>
<tr>
<th style="text-align:center">复合命令</th>
<th style="text-align:left">普通操作</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>C</code></td>
<td style="text-align:left"><code>c$</code></td>
</tr>
<tr>
<td style="text-align:center"><code>s</code></td>
<td style="text-align:left"><code>cl</code></td>
</tr>
<tr>
<td style="text-align:center"><code>S</code></td>
<td style="text-align:left"><code>^c</code></td>
</tr>
<tr>
<td style="text-align:center"><code>I</code></td>
<td style="text-align:left"><code>^i</code></td>
</tr>
<tr>
<td style="text-align:center"><code>A</code></td>
<td style="text-align:left"><code>$a</code></td>
</tr>
<tr>
<td style="text-align:center"><code>o</code></td>
<td style="text-align:left"><code>A&lt;CR&gt;</code></td>
</tr>
<tr>
<td style="text-align:center"><code>O</code></td>
<td style="text-align:left"><code>ko</code></td>
</tr>
</tbody>
</table>
<h3 id="以退为进"><a href="#以退为进" class="headerlink" title="以退为进"></a>以退为进</h3><p>使移动可重复<code>f{char}</code>[^f] <code>;</code><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">f&#123;char&#125;</div><div class="line">&#123;operation&#125;&lt;Esc&gt;</div><div class="line">;.</div></pre></td></tr></table></figure></p>
<h3 id="执行、重复、回退"><a href="#执行、重复、回退" class="headerlink" title="执行、重复、回退"></a>执行、重复、回退</h3><table>
<thead>
<tr>
<th style="text-align:center">操作</th>
<th>功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>@:</code></td>
<td>重复ex命令</td>
</tr>
<tr>
<td style="text-align:center"><code>&amp;</code></td>
<td>重复上次的替换命令</td>
</tr>
<tr>
<td style="text-align:center"><code>,</code></td>
<td>回退到上次<code>f{char}</code>字符位置</td>
</tr>
<tr>
<td style="text-align:center"><code>u</code></td>
<td>撤消</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>目的</th>
<th style="text-align:center">操作</th>
<th style="text-align:center">重复</th>
<th style="text-align:center">回退</th>
</tr>
</thead>
<tbody>
<tr>
<td>做出一个修改</td>
<td style="text-align:center"><code>{edit}</code></td>
<td style="text-align:center"><code>.</code></td>
<td style="text-align:center"><code>u</code></td>
</tr>
<tr>
<td>在行内查找下一指定字符</td>
<td style="text-align:center"><code>f{char}</code>/<code>t{char}</code></td>
<td style="text-align:center"><code>;</code></td>
<td style="text-align:center"><code>,</code></td>
</tr>
<tr>
<td>在行内查找上一指定字符</td>
<td style="text-align:center"><code>F{char}</code>/<code>T{char}</code></td>
<td style="text-align:center"><code>;</code></td>
<td style="text-align:center"><code>,</code></td>
</tr>
<tr>
<td>在文档内查找下一匹配项</td>
<td style="text-align:center"><code>/{pattern}&lt;CR&gt;</code></td>
<td style="text-align:center"><code>n</code></td>
<td style="text-align:center"><code>N</code></td>
</tr>
<tr>
<td>在文档内查找上一匹配项</td>
<td style="text-align:center"><code>?{pattern}&lt;CR&gt;</code></td>
<td style="text-align:center"><code>n</code></td>
<td style="text-align:center"><code>N</code></td>
</tr>
<tr>
<td>执行替换</td>
<td style="text-align:center"><code>s/{pattern}/{replacement}</code></td>
<td style="text-align:center"><code>&amp;</code></td>
<td style="text-align:center"><code>u</code></td>
</tr>
<tr>
<td>执行一系列修改</td>
<td style="text-align:center"><code>q{register}{changes}q</code></td>
<td style="text-align:center"><code>@{register}</code></td>
<td style="text-align:center"><code>u</code></td>
</tr>
</tbody>
</table>
<h3 id="查找并手动替换"><a href="#查找并手动替换" class="headerlink" title="查找并手动替换"></a>查找并手动替换</h3><table>
<thead>
<tr>
<th>功能</th>
<th style="text-align:center">操作</th>
</tr>
</thead>
<tbody>
<tr>
<td>替换</td>
<td style="text-align:center"><code>:substitute</code></td>
</tr>
<tr>
<td>查找当前光标下的单词</td>
<td style="text-align:center"><code>*</code> [^hstar]</td>
</tr>
<tr>
<td>设置高亮查找</td>
<td style="text-align:center"><code>set hls</code></td>
</tr>
</tbody>
</table>
<h3 id="结识-范式"><a href="#结识-范式" class="headerlink" title="结识.范式"></a>结识<code>.</code>范式</h3><blockquote>
<p><strong>用一键移动,另一键执行</strong></p>
</blockquote>
<h2 id="2-模式"><a href="#2-模式" class="headerlink" title="2. 模式"></a>2. 模式</h2><h3 id="2-1-普通"><a href="#2-1-普通" class="headerlink" title="2.1. 普通"></a>2.1. 普通</h3><h4 id="2-1-1-把撤消单元切成块，普通模式和插入模式之间切换的粒度"><a href="#2-1-1-把撤消单元切成块，普通模式和插入模式之间切换的粒度" class="headerlink" title="2.1.1. 把撤消单元切成块，普通模式和插入模式之间切换的粒度,"></a>2.1.1. 把撤消单元切成块，普通模式和插入模式之间切换的粒度,</h4><h4 id="2-1-2-构造可重复的修改"><a href="#2-1-2-构造可重复的修改" class="headerlink" title="2.1.2. 构造可重复的修改:"></a>2.1.2. 构造可重复的修改:</h4><table>
<thead>
<tr>
<th>操作</th>
<th>执行重复命令的操作</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>dbx</code></td>
<td><code>x</code></td>
</tr>
<tr>
<td><code>bdw</code></td>
<td><code>dw</code></td>
</tr>
<tr>
<td><code>daw</code></td>
<td><code>daw</code>[^haw]</td>
</tr>
</tbody>
</table>
<h4 id="2-1-3-用次数做简单的算术运算"><a href="#2-1-3-用次数做简单的算术运算" class="headerlink" title="2.1.3. 用次数做简单的算术运算"></a>2.1.3. 用次数做简单的算术运算</h4><ul>
<li><strong>执行次数</strong>[^hcount] 大部分普通模式命令都可以带一个次数前缀</li>
<li><strong>八进制</strong> 以0开头的数字</li>
</ul>
<table>
<thead>
<tr>
<th>操作</th>
<th>功能</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&lt;C-a&gt;</code></td>
<td>对当前光标下或光标后数字执行加1</td>
</tr>
<tr>
<td><code>&lt;C-x&gt;</code></td>
<td>对当前光标下或光标后数字执行减1</td>
</tr>
<tr>
<td><code>yyp</code></td>
<td>复制行</td>
</tr>
<tr>
<td><code>cw</code></td>
<td>修改单词</td>
</tr>
<tr>
<td><code>set nrformats=</code></td>
<td>所有数字当作十进制</td>
</tr>
</tbody>
</table>
<h4 id="2-1-4-能够重复，就别用次数"><a href="#2-1-4-能够重复，就别用次数" class="headerlink" title="2.1.4. 能够重复，就别用次数"></a>2.1.4. 能够重复，就别用次数</h4><blockquote>
<p><strong>执行，重复，回退，在必要时使用次数</strong></p>
</blockquote>
<h4 id="2-1-5-双剑合璧，天下无敌"><a href="#2-1-5-双剑合璧，天下无敌" class="headerlink" title="2.1.5. 双剑合璧，天下无敌"></a>2.1.5. 双剑合璧，天下无敌</h4><ul>
<li>操作符[^operator] + 动作命令 = 操作</li>
<li>自定义操作符[^mapoperator]，参考已有插件commentary.vim[^pcommentary]</li>
<li>自定义动作命令与已有操作符协同工作[^omapinfo]，参考已有插件textobj-entire[^ptextobjentire]</li>
<li>操作符待决模式Operator-Pending mode，<strong>只接受动作命令状态</strong>:</li>
</ul>
<table>
<thead>
<tr>
<th>命令</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>c</code></td>
<td>修改</td>
</tr>
<tr>
<td><code>d</code></td>
<td>删除</td>
</tr>
<tr>
<td><code>y</code></td>
<td>复制到寄存器</td>
</tr>
<tr>
<td><code>g~</code></td>
<td>反转大小写</td>
</tr>
<tr>
<td><code>gu</code></td>
<td>转换为小写</td>
</tr>
<tr>
<td><code>gU</code></td>
<td>转换为大写</td>
</tr>
<tr>
<td><code>&gt;</code></td>
<td>增加缩进</td>
</tr>
<tr>
<td><code>&lt;</code></td>
<td>减少缩进</td>
</tr>
<tr>
<td><code>=</code></td>
<td>自动缩进</td>
</tr>
<tr>
<td><code>!</code></td>
<td>使用外部程序过滤{motion}所跨越的行</td>
</tr>
</tbody>
</table>
<ul>
<li>多按键操作命令:</li>
</ul>
<table>
<thead>
<tr>
<th>操作符</th>
<th>类型</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>dd</code>,<code>&gt;&gt;</code>,<code>gUgU</code>(<code>gUU</code>)</td>
<td>一个操作命令连续调用再次，相当于作用于当前行</td>
</tr>
<tr>
<td><code>g~</code>,<code>gu</code>,<code>gU</code>[^gU],<code>g</code>[^g],<code>z</code>[^z],<code>ctrl-w</code>[^ctrlw],<code>[</code> [^[]</td>
<td>两个以上按键调用，头一个按键只是第二个按键的前缀，不会激活操作符待决模式，可以把它们当成命名空间</td>
</tr>
<tr>
<td><code>cw</code>,<code>de</code>,<code>yb</code></td>
<td>操作符后带动作命令，激活操作符待决模式</td>
</tr>
</tbody>
</table>
<h3 id="2-2-插入"><a href="#2-2-插入" class="headerlink" title="2.2. 插入"></a>2.2. 插入</h3><h4 id="2-2-1-在插入模式中即时更正错误"><a href="#2-2-1-在插入模式中即时更正错误" class="headerlink" title="2.2.1. 在插入模式中即时更正错误"></a>2.2.1. 在插入模式中即时更正错误</h4><table>
<thead>
<tr>
<th>按键操作</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&lt;C-h&gt;</code></td>
<td>删除前一个字符（同退格键）</td>
</tr>
<tr>
<td><code>&lt;C-w&gt;</code></td>
<td>删除前一个单词</td>
</tr>
<tr>
<td><code>&lt;C-u&gt;</code></td>
<td>删至行首</td>
</tr>
</tbody>
</table>
<h4 id="2-2-2-返回普通模式"><a href="#2-2-2-返回普通模式" class="headerlink" title="2.2.2. 返回普通模式"></a>2.2.2. 返回普通模式</h4><table>
<thead>
<tr>
<th>按键操作</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&lt;Esc&gt;</code></td>
<td>切换到普通模式</td>
</tr>
<tr>
<td><code>&lt;C-[&gt;</code></td>
<td>切换到普通模式</td>
</tr>
<tr>
<td><code>&lt;C-o&gt;</code>[^ictrlo]</td>
<td>切换到插入-普通模式</td>
</tr>
<tr>
<td><code>zz</code></td>
<td>重绘屏幕，并把当前行显示在窗口正中</td>
</tr>
</tbody>
</table>
<h4 id="2-2-3-不离开插入模式，粘贴寄存器中的文本"><a href="#2-2-3-不离开插入模式，粘贴寄存器中的文本" class="headerlink" title="2.2.3. 不离开插入模式，粘贴寄存器中的文本"></a>2.2.3. 不离开插入模式，粘贴寄存器中的文本</h4><ul>
<li><strong>插入模式下粘贴大量文本会有延时，因此相当于逐个输入</strong></li>
<li><strong>插入模式下小心操作</strong><code>K</code>[^K],<code>J</code>[^J]</li>
</ul>
<table>
<thead>
<tr>
<th>按键操作</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&lt;C-r&gt;{register}</code>[^ictrlr]</td>
<td>插入寄存器内的文本</td>
</tr>
<tr>
<td><code>&lt;C-r&gt;&lt;C-p&gt;{register}</code>[^ictrlrp]</td>
<td>按原义插入寄存器内的文本</td>
</tr>
</tbody>
</table>
<h4 id="2-2-4-随时随地做运算"><a href="#2-2-4-随时随地做运算" class="headerlink" title="2.2.4. 随时随地做运算"></a>2.2.4. 随时随地做运算</h4><blockquote>
<p>表达式寄存器<c-r>=</c-r></p>
</blockquote>
<h4 id="2-2-5-用字符编码插入非常用字符"><a href="#2-2-5-用字符编码插入非常用字符" class="headerlink" title="2.2.5. 用字符编码插入非常用字符"></a>2.2.5. 用字符编码插入非常用字符</h4><table>
<thead>
<tr>
<th>按键操作</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&lt;C-v&gt;{nnn}</code></td>
<td>以十进制字符编码插入字符</td>
</tr>
<tr>
<td><code>&lt;C-v&gt;u{nnnn}</code></td>
<td>以十六进制字符编码插入字符</td>
</tr>
<tr>
<td><code>ga</code></td>
<td>查看字符编码</td>
</tr>
<tr>
<td><code>&lt;C-v&gt;{nodigit}</code></td>
<td>按原义插入非数字字符</td>
</tr>
<tr>
<td><code>&lt;C-k&gt;{c1}{c2}</code></td>
<td>插入以二合字母{c1}{c2}表示的字符</td>
</tr>
</tbody>
</table>
<h4 id="2-2-6-用二合字母-digraphsdefault-插入非常用字符"><a href="#2-2-6-用二合字母-digraphsdefault-插入非常用字符" class="headerlink" title="2.2.6. 用二合字母[^digraphsdefault]插入非常用字符"></a>2.2.6. 用二合字母[^digraphsdefault]插入非常用字符</h4><blockquote>
<p><code>:digraphs</code>[^digraphtable] 查看可用的二合字母表</p>
</blockquote>
<h4 id="2-2-7-用替换模式替换已有文本"><a href="#2-2-7-用替换模式替换已有文本" class="headerlink" title="2.2.7. 用替换模式替换已有文本"></a>2.2.7. 用替换模式替换已有文本</h4><table>
<thead>
<tr>
<th>按键操作</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>R</code></td>
<td>由普通模式进入替换模式，<esc>返回普通模式</esc></td>
</tr>
<tr>
<td><code>gR</code></td>
<td>虚拟替换模式，按屏幕实际显示的宽度来替换字符</td>
</tr>
<tr>
<td><code>r{char}</code>[^r]</td>
<td>单次替换</td>
</tr>
<tr>
<td><code>gr{char}</code></td>
<td>单次虚拟替换</td>
</tr>
</tbody>
</table>
<h3 id="2-3-可视"><a href="#2-3-可视" class="headerlink" title="2.3. 可视"></a>2.3. 可视</h3><h4 id="2-3-1-深入理解可视模式"><a href="#2-3-1-深入理解可视模式" class="headerlink" title="2.3.1. 深入理解可视模式"></a>2.3.1. 深入理解可视模式</h4><blockquote>
<p>选择模式[^selectmode]<br><code>&lt;C-g&gt;</code> —<em>VISUAL</em>—  —<em>SELECT</em>—</p>
</blockquote>
<h4 id="2-3-2-选择高亮选区"><a href="#2-3-2-选择高亮选区" class="headerlink" title="2.3.2. 选择高亮选区"></a>2.3.2. 选择高亮选区</h4><ul>
<li>面向字符的模式</li>
<li>面向行的模式</li>
<li>面向列块的模式</li>
</ul>
<table>
<thead>
<tr>
<th>按键操作</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>v</code></td>
<td>激活面向字符的可视模式</td>
</tr>
<tr>
<td><code>V</code></td>
<td>激活面向行的可视模式</td>
</tr>
<tr>
<td><code>&lt;C-v&gt;</code></td>
<td>激活面向列块的可视模式</td>
</tr>
<tr>
<td><code>gv</code></td>
<td>重复上次的高亮选区</td>
</tr>
</tbody>
</table>
<blockquote>
<p>在可视模式间切换</p>
</blockquote>
<table>
<thead>
<tr>
<th>按键操作</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&lt;Esc&gt;</code> <code>&lt;C-[&gt;</code></td>
<td>回到普通模式</td>
</tr>
<tr>
<td><code>v</code> <code>V</code> <code>&lt;C-[&gt;</code></td>
<td>切换到普通模式</td>
</tr>
<tr>
<td><code>v</code></td>
<td>切换到面向字符的可视模式</td>
</tr>
<tr>
<td><code>V</code></td>
<td>切换到面向行的可视模式</td>
</tr>
<tr>
<td><code>&lt;C-v&gt;</code></td>
<td>切换到面向列块的可视模式</td>
</tr>
<tr>
<td><code>o</code></td>
<td>切换高亮选区的活动端</td>
</tr>
</tbody>
</table>
<h4 id="2-3-3-重复执行面向行的可视命令"><a href="#2-3-3-重复执行面向行的可视命令" class="headerlink" title="2.3.3. 重复执行面向行的可视命令"></a>2.3.3. 重复执行面向行的可视命令</h4><blockquote>
<p>缩进:</p>
<ul>
<li><code>shiftwidth</code></li>
<li><code>softtabstop</code></li>
<li><code>expandtab</code></li>
<li>Tabs and Spaces</li>
</ul>
<p>面向行的可视命令适合<code>.</code>重复操作</p>
</blockquote>
<h4 id="2-3-4-只要可能，最好用操作符命令，而不是可视命令"><a href="#2-3-4-只要可能，最好用操作符命令，而不是可视命令" class="headerlink" title="2.3.4. 只要可能，最好用操作符命令，而不是可视命令"></a>2.3.4. 只要可能，最好用操作符命令，而不是可视命令</h4><blockquote>
<p>可视模式操作，不适合重复[^vU]</p>
</blockquote>
<h4 id="2-3-5-用面向列块的可视模式编辑表格数据"><a href="#2-3-5-用面向列块的可视模式编辑表格数据" class="headerlink" title="2.3.5. 用面向列块的可视模式编辑表格数据"></a>2.3.5. 用面向列块的可视模式编辑表格数据</h4><figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="symbol">&lt;C-v&gt;</span><span class="number">3</span><span class="keyword">j</span></div><div class="line"><span class="keyword">x</span>...</div><div class="line"><span class="keyword">gv</span></div><div class="line">r|</div><div class="line">yyp</div><div class="line">Vr-</div></pre></td></tr></table></figure>
<h4 id="2-3-6-修改列文本"><a href="#2-3-6-修改列文本" class="headerlink" title="2.3.6. 修改列文本"></a>2.3.6. 修改列文本</h4><figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="symbol">&lt;C-v&gt;</span>jje</div><div class="line"><span class="keyword">c</span></div><div class="line">components</div><div class="line"><span class="symbol">&lt;Esc&gt;</span></div></pre></td></tr></table></figure>
<h4 id="2-3-7-在长短不一的高亮块后添加文本"><a href="#2-3-7-在长短不一的高亮块后添加文本" class="headerlink" title="2.3.7. 在长短不一的高亮块后添加文本"></a>2.3.7. 在长短不一的高亮块后添加文本</h4><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;C-v&gt;jj$</div><div class="line">A;</div><div class="line">&lt;Esc&gt;</div></pre></td></tr></table></figure>
<h3 id="2-4-命令行"><a href="#2-4-命令行" class="headerlink" title="2.4 命令行"></a>2.4 命令行</h3><h4 id="2-4-1-结识vim的命令行模式"><a href="#2-4-1-结识vim的命令行模式" class="headerlink" title="2.4.1 结识vim的命令行模式"></a>2.4.1 结识vim的命令行模式</h4><ul>
<li>vim历史：<strong>ed</strong> —&gt; <strong>ex</strong> —&gt; <strong>vi</strong> —&gt; <strong>vim</strong></li>
<li>命令行模式类型<ol>
<li>:ex命令[^excmdindex]</li>
<li>/查找匹配</li>
<li><c-r>=表达式</c-r></li>
</ol>
</li>
<li>命令行模式快捷键</li>
</ul>
<table>
<thead>
<tr>
<th>按键操作</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&lt;c-w&gt;</code></td>
<td>删除至上个单词</td>
</tr>
<tr>
<td><code>&lt;c-u&gt;</code></td>
<td>删除至开头</td>
</tr>
<tr>
<td><code>&lt;c-v&gt;</code> <code>&lt;c-k&gt;</code></td>
<td>插入键盘找不到的字符</td>
</tr>
<tr>
<td><code>&lt;c-r&gt;{register}</code></td>
<td>插入寄存器内容</td>
</tr>
</tbody>
</table>
<ul>
<li>常用命令行模式命令</li>
</ul>
<table>
<thead>
<tr>
<th>按键操作</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>:[range]delete [x]</code></td>
<td>删除指定范围内的行[到寄存器x中]</td>
</tr>
<tr>
<td><code>:[range]yank [x]</code></td>
<td>复制指定范围的行[到寄存器x中]</td>
</tr>
<tr>
<td><code>:[line]put [x]</code></td>
<td>在指定行后粘贴寄存器x中的内容</td>
</tr>
<tr>
<td><code>:[range]copy {address}</code></td>
<td>把指定范围内的行拷贝到{address}所指定的行之下</td>
</tr>
<tr>
<td><code>:[range]move {address}</code></td>
<td>把指定范围内的行移动到{address}所指定的行之下</td>
</tr>
<tr>
<td><code>:[range]join</code></td>
<td>连接指定范围内的行</td>
</tr>
<tr>
<td><code>:[range]normal {commands}</code></td>
<td>对指定范围内的每一行执行普通模式命令{commands}</td>
</tr>
<tr>
<td><code>:[range]substitute/{pattern}/{string}/[flags]</code></td>
<td>把指定范围内出现{pattern}的地方替换为{string}</td>
</tr>
<tr>
<td><code>:[range]global/{pattern}/[cmd]</code></td>
<td>对指定范围内匹配{pattern}的所有行，在其上执行Ex命令{cmd}</td>
</tr>
</tbody>
</table>
<h4 id="2-4-2-在一行或多个连续行上执行命令"><a href="#2-4-2-在一行或多个连续行上执行命令" class="headerlink" title="2.4.2 在一行或多个连续行上执行命令"></a>2.4.2 在一行或多个连续行上执行命令</h4><ul>
<li>可以用<strong>行号</strong>，<strong>位置标记</strong>或<strong>查找模式</strong>来指定范围开始结束位置，[range]</li>
<li><code>:print</code>打印命令</li>
<li>行号指定范围：<ul>
<li><code>:n</code></li>
<li><code>:n,m</code></li>
<li><code>:.</code> 当前行</li>
<li><code>:$</code> 最后一行</li>
<li><code>:%</code> 所有行</li>
</ul>
</li>
<li>高亮选区指定范围:<code>&#39;&lt;,&#39;&gt;</code></li>
<li>用模式指定范围:<code>/{pattern}/,/{pattern}/</code></li>
<li>用偏移对地址进行修正:<code>{address}+n</code></li>
</ul>
<table>
<thead>
<tr>
<th>符号</th>
<th>地址</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>1</code></td>
<td>文件第一行</td>
</tr>
<tr>
<td><code>$</code></td>
<td>文件最后一行</td>
</tr>
<tr>
<td><code>0</code></td>
<td>虚拟行，位于文件第一行上方</td>
</tr>
<tr>
<td><code>.</code></td>
<td>光标所在行</td>
</tr>
<tr>
<td><code>&#39;m</code></td>
<td>包含位置标记m的行</td>
</tr>
<tr>
<td><code>&#39;&lt;</code></td>
<td>高亮选区的起始行</td>
</tr>
<tr>
<td><code>&#39;&gt;</code></td>
<td>高亮选区的结束行</td>
</tr>
<tr>
<td><code>%</code></td>
<td>整个文件（<code>:1,$</code>的简写形式）</td>
</tr>
</tbody>
</table>
<h4 id="2-4-3-使用-t和-m命令复制和移动行"><a href="#2-4-3-使用-t和-m命令复制和移动行" class="headerlink" title="2.4.3 使用:t和:m命令复制和移动行"></a>2.4.3 使用<code>:t</code>和<code>:m</code>命令复制和移动行</h4><ul>
<li><code>:[range]copy {address}</code>（<code>:[range]t {address}</code>）</li>
<li><code>:[range]move {address}</code></li>
<li><strong>Ex命令影响范围广且距离远</strong></li>
</ul>
<h4 id="2-4-4-在指定范围上执行普通模式命令"><a href="#2-4-4-在指定范围上执行普通模式命令" class="headerlink" title="2.4.4 在指定范围上执行普通模式命令"></a>2.4.4 在指定范围上执行普通模式命令</h4><ul>
<li><code>:[range]normal {commands}</code></li>
</ul>
<h4 id="2-4-5-重复上次的Ex命令"><a href="#2-4-5-重复上次的Ex命令" class="headerlink" title="2.4.5 重复上次的Ex命令"></a>2.4.5 重复上次的Ex命令</h4><ul>
<li><code>@:</code>[^@:]</li>
<li><code>:</code>[^hquote:]寄存器总是保存着最后执行的命令行命令</li>
<li><code>@@</code>调用上次执行的寄存器宏</li>
<li><code>&lt;C-o&gt;</code>回退</li>
<li><code>:bn[ext]</code>缓冲区正向移动</li>
<li><code>bp[revious]</code>缓冲区反向移动</li>
</ul>
<h4 id="2-4-6-自动补全Ex命令-commandcomplete"><a href="#2-4-6-自动补全Ex命令-commandcomplete" class="headerlink" title="2.4.6 自动补全Ex命令[^commandcomplete]"></a>2.4.6 自动补全Ex命令[^commandcomplete]</h4><ul>
<li><code>&lt;Tab&gt;</code>，<code>&lt;S-Tab&gt;</code>自动补全</li>
<li><code>&lt;C-d&gt;</code>[^cctrld]显示可用补全列表</li>
<li>自定义补全行为[^wildmode]</li>
<li><strong>bash shell</strong> <code>set wildmode=longest,list</code></li>
<li><strong>zsh</strong> <code>set wildmenu wildmode=full</code></li>
<li><strong>wildmenu</strong>启用时<code>&lt;Tab&gt;</code> <code>&lt;C-n&gt;</code> <code>&lt;Right&gt;</code>与<code>&lt;S-Tab&gt;</code> <code>&lt;C-p&gt;</code> <code>&lt;Left&gt;</code>遍历</li>
</ul>
<h4 id="2-4-7-把当前单词插入到命令行"><a href="#2-4-7-把当前单词插入到命令行" class="headerlink" title="2.4.7 把当前单词插入到命令行"></a>2.4.7 把当前单词插入到命令行</h4><ul>
<li><code>&lt;C-r&gt;&lt;C-w&gt;</code>复制光标下单词并插入命令行</li>
<li><code>*</code>命令等效于输入<code>/\&lt;&lt;C-r&gt;&lt;C-w&gt;\&gt;&lt;CR&gt;</code></li>
<li><code>&lt;C-r&gt;&lt;C-a&gt;</code>[^cctrlrctrlw]插入光标下的字符串到命令行</li>
</ul>
<h4 id="2-4-8-回溯历史命令"><a href="#2-4-8-回溯历史命令" class="headerlink" title="2.4.8 回溯历史命令"></a>2.4.8 回溯历史命令</h4><ul>
<li><code>:</code> —&gt; <code>&lt;Up&gt;</code> or <code>&lt;Down&gt;</code>遍历命令历史，可加字符过滤</li>
<li><code>/</code> —&gt; <code>&lt;Up&gt;</code> or <code>&lt;Down&gt;</code>遍历查找历史，可加字符过滤</li>
<li><code>history</code>选项，设置历史记录保存上限</li>
<li>历史记录退出重启后仍旧存在~！[^viminfo]</li>
<li>回溯时可以使用<code>&lt;C-p&gt;</code>或<code>&lt;C-n&gt;</code>遍历，只不过不会自动过滤</li>
<li>通过 <code>cnoremap &lt;C-p&gt; &lt;Up&gt; cnoremap &lt;-n&gt; &lt;Down&gt;</code>可以解决过滤的问题[^phistoryscrollers]</li>
<li>命令行窗口[^cmdwin]</li>
</ul>
<table>
<thead>
<tr>
<th>命令</th>
<th>动作</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>q/</code></td>
<td>打开查找命令历史的命令行窗口</td>
</tr>
<tr>
<td><code>q:</code></td>
<td>打开Ex命令历史的命令行窗口</td>
</tr>
<tr>
<td><code>&lt;C-f&gt;</code></td>
<td>从命令行模式切换到命令行窗口</td>
</tr>
<tr>
<td><code>:q</code></td>
<td>退出命令行窗口</td>
</tr>
<tr>
<td><code>&lt;CR&gt;</code></td>
<td>退出命令行窗口，并执行命令</td>
</tr>
</tbody>
</table>
<h4 id="2-4-9-运行Shell命令"><a href="#2-4-9-运行Shell命令" class="headerlink" title="2.4.9 运行Shell命令"></a>2.4.9 运行Shell命令</h4><ul>
<li><code>%</code>代表当前文件名[^cmdlinespecial]</li>
<li>文件名修饰符[^filenamemodifiers]</li>
<li><code>&lt;C-z&gt;</code>在shell的vim中转入后台</li>
<li><code>fg</code>恢复</li>
<li><code>jobs</code>显示挂起的作业文件（man bash 作业控制job control）</li>
</ul>
<table>
<thead>
<tr>
<th>按键操作</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>:shell</code>[^hshell]</td>
<td>启动一个shell(exit返回vim)</td>
</tr>
<tr>
<td><code>:!{cmd}</code>[^:!]</td>
<td>在shell中执行{cmd}</td>
</tr>
<tr>
<td><code>:read !{cmd}</code>[^read!]</td>
<td>在shell中执行{cmd},并把其标准输出插入到光标下方</td>
</tr>
<tr>
<td><code>:[range]write !{cmd}</code>[^writec]</td>
<td>在shell中执行{cmd},以[range]作为其标准输入</td>
</tr>
<tr>
<td><code>:write !sh</code>[^renamefiles]</td>
<td>在shell中执行缓冲区的每行内容</td>
</tr>
<tr>
<td><code>:[range]!{filter}</code>[^range!]</td>
<td>使用外部程序{filter}过滤指定的[range]</td>
</tr>
<tr>
<td><code>!{motion}</code>[^!]</td>
<td>切换到命令行，并设置{motion}范围</td>
</tr>
<tr>
<td><code>:2,$!sort -t &#39;,&#39; -k2</code></td>
<td>/</td>
</tr>
</tbody>
</table>
<h2 id="3-管理多个文件"><a href="#3-管理多个文件" class="headerlink" title="3. 管理多个文件"></a>3. 管理多个文件</h2><h3 id="3-1-用缓冲区列表管理打开的文件"><a href="#3-1-用缓冲区列表管理打开的文件" class="headerlink" title="3.1 用缓冲区列表管理打开的文件"></a>3.1 用缓冲区列表管理打开的文件</h3><h4 id="3-1-1-ls列出缓冲区列表-ls"><a href="#3-1-1-ls列出缓冲区列表-ls" class="headerlink" title="3.1.1 ls列出缓冲区列表[^ls]"></a>3.1.1 <code>ls</code>列出缓冲区列表[^ls]</h4><ul>
<li><code>%</code>当前窗口可见</li>
<li><code>#</code>轮换文件</li>
<li><code>&lt;C-^&gt;</code>轮换文件间快速切换</li>
</ul>
<h4 id="3-1-2-使用缓冲区列表："><a href="#3-1-2-使用缓冲区列表：" class="headerlink" title="3.1.2 使用缓冲区列表："></a>3.1.2 使用缓冲区列表：</h4><ul>
<li><code>:bprev</code></li>
<li><code>:bnext</code></li>
<li><code>:bfirst</code></li>
<li><code>:blast</code></li>
<li><code>:buffer N</code>[^:b]</li>
<li><code>:buffer {bufname}</code> 只需要提供足够标识的字符</li>
<li><code>:bufdo</code>[^:bufdo] 所有缓冲区执行Ex命令</li>
<li>映射缓冲区列表操作快捷键[^punimpaired]<ul>
<li><code>nnoremap &lt;silent&gt; [b :bprevious&lt;CR&gt;</code></li>
<li><code>nnoremap &lt;silent&gt; ]b :bnext&lt;CR&gt;</code></li>
<li><code>nnoremap &lt;silent&gt; [B :bfirst&lt;CR&gt;</code></li>
<li><code>nnoremap &lt;silent&gt; ]B :blast&lt;CR&gt;</code></li>
</ul>
</li>
</ul>
<h4 id="3-1-3-删除缓冲区"><a href="#3-1-3-删除缓冲区" class="headerlink" title="3.1.3 删除缓冲区"></a>3.1.3 删除缓冲区</h4><ul>
<li><code>:bdelete N1 N2 N3</code></li>
<li><code>:N,M bdelete</code></li>
</ul>
<h3 id="3-2-用参数列表将缓冲区分组"><a href="#3-2-用参数列表将缓冲区分组" class="headerlink" title="3.2 用参数列表将缓冲区分组"></a>3.2 用参数列表将缓冲区分组</h3><ul>
<li><code>:args</code>显示参数列表</li>
<li><code>:args {arglist}</code>[^argsf]接填充参数列表</li>
<li><code>:args *</code>用Glob(通配符)<code>*</code>[^hwildcard] <code>**</code>[^hstarstarwildcard]指定文件</li>
<li><code>:args `{shell commands}` </code>用反引号结构指定文件[^backtick-expansion]</li>
<li>使用参数列表<code>:next</code>，<code>:prev</code>，<code>:argdo</code></li>
</ul>
<h3 id="3-3-管理隐藏缓冲区"><a href="#3-3-管理隐藏缓冲区" class="headerlink" title="3.3 管理隐藏缓冲区"></a>3.3 管理隐藏缓冲区</h3><table>
<thead>
<tr>
<th>按键操作</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>:w[rite]</code></td>
<td>把缓冲区内容写入磁盘</td>
</tr>
<tr>
<td><code>:e[dit]!</code></td>
<td>把磁盘文件内容读入缓冲区</td>
</tr>
<tr>
<td><code>:qa[ll]!</code></td>
<td>关闭所有窗口，摒弃修改而无需警告</td>
</tr>
<tr>
<td><code>:bn[ext]!</code></td>
<td>隐藏当前缓冲区并切换到下一个</td>
</tr>
<tr>
<td><code>:bp[revious]!</code></td>
<td>隐藏当前缓冲区并切换到上一个</td>
</tr>
<tr>
<td><code>set hidden</code>[^hidden]</td>
<td>启用默认自动隐藏缓冲区</td>
</tr>
<tr>
<td><code>wn</code></td>
<td>逐个保存</td>
</tr>
</tbody>
</table>
<h3 id="3-4-将工作区切分成窗口"><a href="#3-4-将工作区切分成窗口" class="headerlink" title="3.4 将工作区切分成窗口"></a>3.4 将工作区切分成窗口</h3><table>
<thead>
<tr>
<th>按键操作</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&lt;C-w&gt;s</code></td>
<td>水平切分当前窗口，新窗口仍显示当前缓冲区</td>
</tr>
<tr>
<td><code>&lt;C-w&gt;v</code></td>
<td>垂直切分当前窗口，新窗口仍显示当前缓冲区</td>
</tr>
<tr>
<td><code>sp[lit] {file}</code></td>
<td>水平切分当前窗口，并在新窗口中载入{file}</td>
</tr>
<tr>
<td><code>vsp[lit] {file}</code></td>
<td>垂直切分当前窗口，并在新窗口中载入{file}</td>
</tr>
<tr>
<td><code>&lt;C-w&gt;w</code>[^windowmovecursor]</td>
<td>在窗口间循环切换</td>
</tr>
<tr>
<td><code>&lt;C-w&gt;h</code></td>
<td>切换到左边的窗口[^mouse]</td>
</tr>
<tr>
<td><code>&lt;C-w&gt;j</code></td>
<td>切换到下边的窗口</td>
</tr>
<tr>
<td><code>&lt;C-w&gt;k</code></td>
<td>切换到上边的窗口</td>
</tr>
<tr>
<td><code>&lt;C-w&gt;l</code></td>
<td>切换到右边的窗口</td>
</tr>
<tr>
<td><code>:clo[se]</code> <code>&lt;C-w&gt;c</code></td>
<td>关闭活动窗口</td>
</tr>
<tr>
<td><code>:on[ly]</code> <code>&lt;C-w&gt;o</code></td>
<td>只保留活动窗口，关闭其他所有窗口</td>
</tr>
<tr>
<td><code>:h window-resize</code></td>
<td>\</td>
</tr>
<tr>
<td><code>&lt;C-w&gt;=</code></td>
<td>使所有窗口等宽、等高</td>
</tr>
<tr>
<td><code>&lt;C-w&gt;_</code></td>
<td>最大化活动窗口的高度</td>
</tr>
<tr>
<td><code>&lt;C-w&gt;｜</code></td>
<td>最大化活动窗口的宽度</td>
</tr>
<tr>
<td><code>[N]&lt;C-w&gt;_</code></td>
<td>把活动窗口的高度设为[N]行</td>
</tr>
<tr>
<td><code>[N]&lt;C-w&gt;｜</code></td>
<td>把活动窗口的宽度设为[N]列</td>
</tr>
<tr>
<td><code>:h window-moving</code></td>
<td>\</td>
</tr>
</tbody>
</table>
<h3 id="3-5-用标签页将窗口分组-tabpage"><a href="#3-5-用标签页将窗口分组-tabpage" class="headerlink" title="3.5 用标签页将窗口分组[^tabpage]"></a>3.5 用标签页将窗口分组[^tabpage]</h3><table>
<thead>
<tr>
<th>按键操作</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>:lcd {path}</code></td>
<td>设置当前窗口的本地工作目录</td>
</tr>
<tr>
<td><code>:windo lcd {path}</code></td>
<td>所有窗口设置本地工作目录</td>
</tr>
<tr>
<td><code>:tabe[dit] {filename}</code></td>
<td>在新标签页中打开{filename}</td>
</tr>
<tr>
<td><code>&lt;C-w&gt;T</code></td>
<td>把当前窗口移到一个新标签页[^ctrlwT]</td>
</tr>
<tr>
<td><code>:tabc[lose]</code></td>
<td>关闭当前标签页及其中的所有窗口</td>
</tr>
<tr>
<td><code>tabo[nly]</code></td>
<td>只保留活动标签页，关闭所有其他标签页</td>
</tr>
<tr>
<td><code>:tabn[ext] {N}</code> <code>{N}gt</code></td>
<td>切换到下一标签页</td>
</tr>
<tr>
<td><code>:tabn[ext]</code> <code>gt</code></td>
<td>切换到下一标签页</td>
</tr>
<tr>
<td><code>:tabp[revious]</code> <code>gT</code></td>
<td>切换到下一标签页</td>
</tr>
<tr>
<td><code>:tabmove [N]</code></td>
<td>移动标签页，0移到开头，省略[N]移到结尾</td>
</tr>
</tbody>
</table>
<h2 id="4-打开和保存文件"><a href="#4-打开和保存文件" class="headerlink" title="4. 打开和保存文件"></a>4. 打开和保存文件</h2><h3 id="4-1-用edit命令打开文件"><a href="#4-1-用edit命令打开文件" class="headerlink" title="4.1 用edit命令打开文件"></a>4.1 用edit命令打开文件</h3><ul>
<li><code>:pwd</code>显示当前目录print working directory</li>
<li><strong>tab</strong>键展开</li>
<li><code>:edit %:h&lt;Tab&gt;</code>相对于活动目录打开文件<blockquote>
<p><code>cnoremap &lt;expr&gt; %% getcmdtype() == &#39;:&#39; ? expand(&#39;%:h&#39;).&#39;/&#39; : &#39;%%&#39;</code></p>
</blockquote>
</li>
</ul>
<h3 id="4-2-使用find打开文件"><a href="#4-2-使用find打开文件" class="headerlink" title="4.2 使用find打开文件"></a>4.2 使用find打开文件</h3><ul>
<li><code>:find</code>允许通过文件名打开文件</li>
<li><code>set path+=app/**</code>配置’path’路径[^hpath][^filesearching]</li>
<li>rails的智能路径管理[^prails]</li>
</ul>
<h3 id="4-3-使用netrw管理文件系统"><a href="#4-3-使用netrw管理文件系统" class="headerlink" title="4.3 使用netrw管理文件系统"></a>4.3 使用netrw管理文件系统</h3><ul>
<li>准备工作：<code>set nocompatible  filetype plugin on</code></li>
<li><code>-</code>返回上级目录</li>
<li><p>打开文件管理目录</p>
<ul>
<li><code>:edit {path}</code>，<code>:edit .</code>，<code>:edit %:h</code>，<code>:e</code></li>
<li><code>:Explore</code>[^explore] <code>:E</code></li>
<li><code>:Sexplore</code>，<code>:Vexplore</code></li>
</ul>
</li>
<li><p>与分割窗口协同工作<code>&lt;C-^&gt;</code></p>
</li>
<li>使用netrw完成更多功能<ul>
<li>创建新文件[^netrw%]</li>
<li>创建新目录[^netrwd]</li>
<li>重命名已有的文件及目录[^netrwrename]</li>
<li>删除[^netrwdel]</li>
<li>通过网络读写文件scp,ftp,curl,wget[^netrwref]</li>
</ul>
</li>
</ul>
<h3 id="4-4-把文件保存到不存在的目录中"><a href="#4-4-把文件保存到不存在的目录中" class="headerlink" title="4.4 把文件保存到不存在的目录中"></a>4.4 把文件保存到不存在的目录中</h3><ul>
<li><code>&lt;C-g&gt;</code>显示当前文件的文件名及状态[^ctrlG]（</li>
<li><code>:!mkdir -p %:h</code></li>
<li><code>:write</code></li>
</ul>
<h3 id="4-5-以超级用户权限保存文件"><a href="#4-5-以超级用户权限保存文件" class="headerlink" title="4.5 以超级用户权限保存文件"></a>4.5 以超级用户权限保存文件</h3><ul>
<li><code>ls -al /etc/|grep hosts</code>，<code>whoami</code></li>
<li><code>:w !sudo tee % &gt; /dev/null</code>[^writec][^:%]</li>
</ul>
<hr>
<h2 id="5-移动跳转-motion"><a href="#5-移动跳转-motion" class="headerlink" title="5. 移动跳转[^motion]"></a>5. 移动跳转[^motion]</h2><h3 id="5-1-用动作命令在文档中移动"><a href="#5-1-用动作命令在文档中移动" class="headerlink" title="5.1 用动作命令在文档中移动"></a>5.1 用动作命令在文档中移动</h3><h4 id="5-1-1-让手指保持在本位行上"><a href="#5-1-1-让手指保持在本位行上" class="headerlink" title="5.1.1 让手指保持在本位行上"></a>5.1.1 让手指保持在本位行上</h4><blockquote>
<p>hjkl;</p>
</blockquote>
<h4 id="5-1-2-区分实际行与屏幕行"><a href="#5-1-2-区分实际行与屏幕行" class="headerlink" title="5.1.2 区分实际行与屏幕行"></a>5.1.2 区分实际行与屏幕行</h4><ul>
<li><code>&#39;wrap&#39;</code>，<code>&#39;number&#39;</code></li>
<li><code>j</code>，<code>k</code>，<code>0</code>，<code>^</code>，<code>$</code>，<code>gj</code>，<code>gk</code>，<code>g0</code>，<code>g^</code>，<code>g$</code></li>
</ul>
<h4 id="5-1-3-基于单词移动-wordmotions"><a href="#5-1-3-基于单词移动-wordmotions" class="headerlink" title="5.1.3 基于单词移动[^wordmotions]"></a>5.1.3 基于单词移动[^wordmotions]</h4><ul>
<li><code>w</code>，<code>b</code>，<code>e</code>，<code>g</code>e面向单词移动，词首词尾，正向反向</li>
<li><code>W</code>,<code>B</code>,<code>E</code>,<code>gE</code>面向字串移动</li>
<li>理解单词(word)[^word]与字串(WORD)[^WORD]</li>
</ul>
<h4 id="5-1-4-对字符进行查找"><a href="#5-1-4-对字符进行查找" class="headerlink" title="5.1.4 对字符进行查找"></a>5.1.4 对字符进行查找</h4><ul>
<li><code>f</code>[^f] <code>;</code>[^;] <code>,</code>[^,]</li>
<li><code>noremap &lt;Leader&gt;n nzz</code></li>
<li><p><code>noremap &lt;Leader&gt;N Nzz</code></p>
<ul>
<li><code>&lt;Leader&gt;</code>默认<code>\</code>[^mapleader]</li>
<li><code>let mapleader=&quot;,&quot;</code> </li>
<li>normal \ ,</li>
</ul>
</li>
<li><p><code>f{motion}</code>，<code>F{motion}</code>，<code>t{motion}</code>，<code>T{motion}</code>，<code>;</code>，<code>,</code></p>
</li>
</ul>
<h4 id="5-1-5-通过查找进行移动"><a href="#5-1-5-通过查找进行移动" class="headerlink" title="5.1.5 通过查找进行移动"></a>5.1.5 通过查找进行移动</h4><ul>
<li><code>/{char}&lt;CR&gt;</code></li>
<li><code>n</code></li>
<li><code>N</code></li>
<li><code>&#39;hlsearch&#39;</code></li>
<li><code>&#39;incsearch&#39;</code></li>
<li>用查找动作操作文本[^exclusive]<ul>
<li><code>v/{char}&lt;CR&gt;hd</code></li>
<li><code>d/{char}&lt;CR&gt;</code></li>
</ul>
</li>
</ul>
<h4 id="5-1-6-用精确的文本对象选择选区-textobjects"><a href="#5-1-6-用精确的文本对象选择选区-textobjects" class="headerlink" title="5.1.6 用精确的文本对象选择选区[^textobjects]"></a>5.1.6 用精确的文本对象选择选区[^textobjects]</h4><table>
<thead>
<tr>
<th>文本对象</th>
<th>选择区域</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>a)</code> <code>ab</code></td>
<td>一对圆括号(parentheses)</td>
</tr>
<tr>
<td><code>i)</code> <code>ib</code></td>
<td>圆括号内部</td>
</tr>
<tr>
<td><code>a}</code> <code>aB</code></td>
<td>一对花括号{braces}</td>
</tr>
<tr>
<td><code>i}</code> <code>iB</code></td>
<td>花括号内部</td>
</tr>
<tr>
<td><code>a]</code></td>
<td>一对方括号[brackets]</td>
</tr>
<tr>
<td><code>i]</code></td>
<td>方括号内部</td>
</tr>
<tr>
<td><code>a&gt;</code></td>
<td>一对尖括号<angle brackets=""></angle></td>
</tr>
<tr>
<td><code>i&gt;</code></td>
<td>尖括号内部</td>
</tr>
<tr>
<td><code>a&#39;</code></td>
<td>一对单引号’single quotes’</td>
</tr>
<tr>
<td><code>i&#39;</code></td>
<td>单引号内部</td>
</tr>
<tr>
<td><code>a&quot;</code></td>
<td>一对双引号”double quotes”</td>
</tr>
<tr>
<td><code>i&quot;</code></td>
<td>双引号内部</td>
</tr>
<tr>
<td><code>a` </code></td>
<td>一对反引号`backticks`</td>
</tr>
<tr>
<td><code>i` </code></td>
<td>反引号内部</td>
</tr>
<tr>
<td><code>at</code></td>
<td>一对XML标签tags</td>
</tr>
<tr>
<td><code>it</code></td>
<td>标签内部</td>
</tr>
</tbody>
</table>
<h4 id="5-1-7-删除周边，修改内部"><a href="#5-1-7-删除周边，修改内部" class="headerlink" title="5.1.7 删除周边，修改内部"></a>5.1.7 删除周边，修改内部</h4><ul>
<li>分隔符文本对象，块对象</li>
<li>范围文本对象，非块对象</li>
<li>d配a,c配i</li>
</ul>
<table>
<thead>
<tr>
<th>文本对象</th>
<th>选择范围</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>iw</code></td>
<td>当前单词</td>
</tr>
<tr>
<td><code>aw</code></td>
<td>当前单词及一个空格</td>
</tr>
<tr>
<td><code>iW</code></td>
<td>当前字串</td>
</tr>
<tr>
<td><code>aW</code></td>
<td>当前字串及一个空格</td>
</tr>
<tr>
<td><code>is</code></td>
<td>当前句子</td>
</tr>
<tr>
<td><code>as</code></td>
<td>当前句子及一个空格</td>
</tr>
<tr>
<td><code>ip</code></td>
<td>当前段落</td>
</tr>
<tr>
<td><code>ap</code></td>
<td>当前段落及一个空行</td>
</tr>
</tbody>
</table>
<h4 id="5-1-8-设置位置标记-markmotion-，以便快速跳回"><a href="#5-1-8-设置位置标记-markmotion-，以便快速跳回" class="headerlink" title="5.1.8 设置位置标记[^markmotion]，以便快速跳回"></a>5.1.8 设置位置标记[^markmotion]，以便快速跳回</h4><ul>
<li><code>m{a-zA-Z}</code>[^m]小写缓冲区局部可见，大写全局可见</li>
<li><code>`{mark}</code>跳转到位置标记所在行，首个非空字符上</li>
<li><code>&#39;{mark}</code>跳转到位置标记所在位置</li>
<li>自动位置标记</li>
</ul>
<table>
<thead>
<tr>
<th>位置标记</th>
<th>跳转到</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&quot;</code></td>
<td>当前文件中上次跳转动作之前的位置</td>
</tr>
<tr>
<td><code>.</code></td>
<td>上次修改的地方</td>
</tr>
<tr>
<td><code>^</code></td>
<td>上次插入的地方</td>
</tr>
<tr>
<td><code>[</code></td>
<td>上次修改或复制的起始位置</td>
</tr>
<tr>
<td><code>]</code></td>
<td>上次修改或复制的结束位置</td>
</tr>
<tr>
<td><code>&lt;</code></td>
<td>上次高亮选区的起始位置</td>
</tr>
<tr>
<td><code>&gt;</code></td>
<td>上次高亮选区的结束位置</td>
</tr>
</tbody>
</table>
<h4 id="5-1-9-在匹配括号间跳转"><a href="#5-1-9-在匹配括号间跳转" class="headerlink" title="5.1.9 在匹配括号间跳转"></a>5.1.9 在匹配括号间跳转</h4><ul>
<li><strong>matchit.vim</strong>插件，对tags的跳转[^matchitinstall]</li>
</ul>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">set</span> nocompatible</div><div class="line"><span class="keyword">filetype</span> plugin <span class="keyword">on</span></div><div class="line"><span class="keyword">runtime</span> macros/matchit.<span class="keyword">vim</span></div></pre></td></tr></table></figure>
<ul>
<li>%对一组开、闭括号间跳转[^%]</li>
<li>Surround.vim，给选中的文本加分隔符<code>S&quot;</code></li>
</ul>
<h3 id="5-2-在文件间跳转"><a href="#5-2-在文件间跳转" class="headerlink" title="5.2 在文件间跳转"></a>5.2 在文件间跳转</h3><h4 id="5-2-1-遍历跳转列表"><a href="#5-2-1-遍历跳转列表" class="headerlink" title="5.2.1 遍历跳转列表"></a>5.2.1 遍历跳转列表</h4><ul>
<li><code>:jumps</code>显示跳转列表</li>
<li><strong>大范围动作命令会被当成跳转，小范围的动作命令只算移动</strong></li>
<li>每个单独窗口拥有一份跳转列表</li>
<li><font color="red">注意</font><strong><code>&lt;C-i&gt;</code>和<code>&lt;Tab&gt;</code>被当成同一个东西</strong></li>
<li><code>&lt;C-o&gt;</code> <code>&lt;C-i&gt;</code></li>
</ul>
<table>
<thead>
<tr>
<th>按键操作</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>{count}G</code></td>
<td>跳转到指定行号</td>
</tr>
<tr>
<td><code>/pattern&lt;CR&gt;/?pattern&lt;CR&gt;</code> <code>n</code> <code>N</code></td>
<td>跳转到下一个/上一个模式出现之处</td>
</tr>
<tr>
<td><code>%</code></td>
<td>跳转到匹配括号所在之处</td>
</tr>
<tr>
<td><code>(</code> <code>)</code></td>
<td>跳转到上一个/下一句的开头</td>
</tr>
<tr>
<td><code>{</code> <code>}</code></td>
<td>跳转到上一段/下一段的开头</td>
</tr>
<tr>
<td><code>H</code> <code>M</code> <code>L</code></td>
<td>跳到屏幕最上方/正中间/最下方</td>
</tr>
<tr>
<td><code>gf</code></td>
<td>跳转到光标下的文件名</td>
</tr>
<tr>
<td><code>&lt;C-]&gt;</code></td>
<td>跳转到光标下关键字的定义之处</td>
</tr>
<tr>
<td><code>`{mark}</code> <code>&#39;{mark}</code></td>
<td>跳转到一个位置标记</td>
</tr>
</tbody>
</table>
<h4 id="5-2-2-遍历改变列表"><a href="#5-2-2-遍历改变列表" class="headerlink" title="5.2.2 遍历改变列表"></a>5.2.2 遍历改变列表</h4><ul>
<li><code>:changes</code>[^changelist]显示编辑会话期间维护的改变列表</li>
<li><code>g;</code>和<code>g,</code>遍历改变列表，类似<code>u&lt;C-r&gt;</code></li>
<li><code>:h &#39;.</code> <code>:h &#39;^</code> </li>
<li><code>gi</code>[^gi]回到退出的地方继续编辑</li>
<li>每个缓冲区单独维护一张表</li>
</ul>
<h4 id="5-2-3-跳转到光标下的文件-gf"><a href="#5-2-3-跳转到光标下的文件-gf" class="headerlink" title="5.2.3 跳转到光标下的文件[^gf]"></a>5.2.3 跳转到光标下的文件[^gf]</h4><ul>
<li>指定文件扩展名<code>set suffixesadd+=.rb</code>[^suffixesadd]</li>
<li>指定要搜寻的目录[^path]<code>set path?</code>显示值</li>
<li>bundler.vim 使用工程的Gemfile自动生成”path”设置</li>
<li><code>vim -u NONE -N {file}</code>不加载任何插件启动vim<h4 id="5-2-4-用全局位置标记在文件间快速跳转"><a href="#5-2-4-用全局位置标记在文件间快速跳转" class="headerlink" title="5.2.4 用全局位置标记在文件间快速跳转"></a>5.2.4 用全局位置标记在文件间快速跳转</h4></li>
</ul>
<blockquote>
<p>在浏览代码前先设置一个全局标记<code>:h &#39;</code> <code>:h m</code> <code>:h &#39;viminfo&#39;</code></p>
</blockquote>
<hr>
<h2 id="6-寄存器"><a href="#6-寄存器" class="headerlink" title="6. 寄存器"></a>6. 寄存器</h2><h3 id="6-1-复制与粘贴"><a href="#6-1-复制与粘贴" class="headerlink" title="6.1 复制与粘贴"></a>6.1 复制与粘贴</h3><h4 id="6-1-1-用无名寄存器实现删除、复制与粘贴操作"><a href="#6-1-1-用无名寄存器实现删除、复制与粘贴操作" class="headerlink" title="6.1.1 用无名寄存器实现删除、复制与粘贴操作"></a>6.1.1 用无名寄存器实现删除、复制与粘贴操作</h4><ul>
<li><code>xp</code></li>
<li><code>ddp</code></li>
<li><code>yyp</code></li>
</ul>
<h4 id="6-1-2-深入理解Vim寄存器"><a href="#6-1-2-深入理解Vim寄存器" class="headerlink" title="6.1.2 深入理解Vim寄存器"></a>6.1.2 深入理解Vim寄存器</h4><ul>
<li>引用一个寄存器<code>&quot;{register}</code>，缺省使用无名寄存器<code>&quot;&quot;</code></li>
<li>vim术语对照剪切(cut)=delete,复制(copy)=yank,粘贴(paste)=put</li>
<li><p>无名寄存器（<code>&quot;&quot;</code>）[^quotequote]</p>
<blockquote>
<p><code>x</code>,<code>s</code>,<code>d{motion}</code>,<code>c{motion}</code>与<code>y{motion}</code>以及它们的大写命令都会覆盖无名寄存器</p>
</blockquote>
</li>
<li><p>复制专用寄存器（<code>&quot;0</code>）[^quote0]</p>
<blockquote>
<p><code>y{motion}</code>命令时才会使用</p>
</blockquote>
</li>
<li><p><code>:reg &quot;{register}</code>显示寄存器内容</p>
</li>
<li>有名寄存器（<code>&quot;a</code>-<code>&quot;z</code>）[^quotealpha]，小写重写，大写追加</li>
<li>黑洞寄存器（<code>&quot;_</code>）[^quote_]，有去无回</li>
<li>系统剪切板（<code>&quot;+</code>）[^quote+]</li>
<li>选择专用寄存器（<code>&quot;*</code>）[^quotestar]</li>
<li>表达式寄存器（<code>&quot;=</code>）[^quote=]，计算并返回值</li>
<li>其他寄存器，只读，(<code>&quot;.</code>)[^quote.]</li>
<li><code>&quot;%</code>，<code>&quot;#</code>，<code>&quot;.</code>，<code>&quot;:</code>，<code>&quot;/</code></li>
</ul>
<h4 id="6-1-3-用寄存器中的内容替换高亮选区的文本"><a href="#6-1-3-用寄存器中的内容替换高亮选区的文本" class="headerlink" title="6.1.3 用寄存器中的内容替换高亮选区的文本"></a>6.1.3 用寄存器中的内容替换高亮选区的文本</h4><blockquote>
<p><code>:h v_p</code></p>
</blockquote>
<h4 id="6-1-4-把寄存器的内容粘贴出来-p"><a href="#6-1-4-把寄存器的内容粘贴出来-p" class="headerlink" title="6.1.4 把寄存器的内容粘贴出来[^p]"></a>6.1.4 把寄存器的内容粘贴出来[^p]</h4><ul>
<li>面向行还是面向字符[^linewiseregister]</li>
<li><code>&lt;C-r&gt;{register}</code>总插入到光标之前</li>
<li><code>gp</code>，<code>gP</code>，粘贴后光标在文本之后，更适合操作</li>
</ul>
<h4 id="6-1-5-与系统剪贴板进行交互-paste"><a href="#6-1-5-与系统剪贴板进行交互-paste" class="headerlink" title="6.1.5 与系统剪贴板进行交互[^paste]"></a>6.1.5 与系统剪贴板进行交互[^paste]</h4><ul>
<li><code>:set pastetoggle=&lt;f5&gt;</code>使用f5切换”paste”选项</li>
<li>使用加号寄存器进行粘贴可以避免</li>
</ul>
<hr>
<h3 id="6-2-宏"><a href="#6-2-宏" class="headerlink" title="6.2 宏"></a>6.2 宏</h3><h4 id="6-2-1-宏的读取与执行"><a href="#6-2-1-宏的读取与执行" class="headerlink" title="6.2.1 宏的读取与执行"></a>6.2.1 宏的读取与执行</h4><ul>
<li><code>q{register}</code>,按<code>q</code>停止</li>
<li><code>@{register}</code>执行[^@],<code>@@</code>重复最近调用过的宏</li>
<li>串行，并行</li>
</ul>
<h4 id="6-2-2-规范光标位置、直达目标以及中止宏"><a href="#6-2-2-规范光标位置、直达目标以及中止宏" class="headerlink" title="6.2.2 规范光标位置、直达目标以及中止宏"></a>6.2.2 规范光标位置、直达目标以及中止宏</h4><ul>
<li>确保每条命令都可被重复执行</li>
<li>规范光标的位置，更容易正确执行</li>
<li>用可重复的动作命令直达目标</li>
<li>当动作命令失败时，宏将中止执行[^visualbell]</li>
</ul>
<h4 id="6-2-3-加次数回放宏"><a href="#6-2-3-加次数回放宏" class="headerlink" title="6.2.3 加次数回放宏"></a>6.2.3 加次数回放宏</h4><blockquote>
<p><code>n@{register}</code></p>
</blockquote>
<h4 id="6-2-4-在连续的文件行上重复修改"><a href="#6-2-4-在连续的文件行上重复修改" class="headerlink" title="6.2.4 在连续的文件行上重复修改"></a>6.2.4 在连续的文件行上重复修改</h4><ul>
<li>串行：<code>n@{register}</code></li>
<li>并行：<code>:’&lt;,’&gt;normal @{register}</code></li>
</ul>
<h4 id="6-2-5-给宏追加命令"><a href="#6-2-5-给宏追加命令" class="headerlink" title="6.2.5 给宏追加命令"></a>6.2.5 给宏追加命令</h4><blockquote>
<p>使用大写字母</p>
</blockquote>
<h4 id="6-2-6-在一组文件中执行宏"><a href="#6-2-6-在一组文件中执行宏" class="headerlink" title="6.2.6 在一组文件中执行宏"></a>6.2.6 在一组文件中执行宏</h4><ul>
<li>准备工作</li>
</ul>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">set</span> nocompatible</div><div class="line"><span class="keyword">filetype</span> plugin <span class="built_in">indent</span> <span class="keyword">on</span></div><div class="line"><span class="keyword">set</span> hidden</div><div class="line"><span class="keyword">if</span> <span class="built_in">has</span>(<span class="string">"autocmd"</span>)</div><div class="line"><span class="keyword">autocmd</span> fileType <span class="keyword">ruby</span> <span class="keyword">setlocal</span> <span class="keyword">ts</span>=<span class="number">2</span> <span class="keyword">sts</span>=<span class="number">2</span> <span class="keyword">sw</span>=<span class="number">2</span> expandtab</div><div class="line"><span class="keyword">endif</span></div></pre></td></tr></table></figure>
<ul>
<li>启用”hidden”</li>
<li>建立目标文件列表<code>:args *.rb</code></li>
<li>录制宏<code>:first</code>，<code>:e!</code></li>
<li><code>:h :argdo</code> <code>:h :edit!</code></li>
<li><code>:argdo normal @a</code>并行执行宏</li>
<li><code>qA :next q 22@a</code>串行执行宏</li>
<li>保存所有文件改动<code>:h</code> <code>:wa</code> <code>:argdo write</code> <code>:h :wn</code></li>
</ul>
<h4 id="6-2-7-用迭代求值的方式给列表编号"><a href="#6-2-7-用迭代求值的方式给列表编号" class="headerlink" title="6.2.7 用迭代求值的方式给列表编号"></a>6.2.7 用迭代求值的方式给列表编号</h4><figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">:<span class="keyword">let</span> i=<span class="number">1</span></div><div class="line"><span class="keyword">qa</span></div><div class="line">I<span class="symbol">&lt;C-r&gt;</span>=i<span class="symbol">&lt;CR&gt;</span>)<span class="symbol">&lt;Esc&gt;</span></div><div class="line">:<span class="keyword">let</span> i+= <span class="number">1</span></div><div class="line">q</div><div class="line">jVG</div><div class="line">:<span class="keyword">normal</span> @a</div></pre></td></tr></table></figure>
<h4 id="6-2-8-编辑宏的内容"><a href="#6-2-8-编辑宏的内容" class="headerlink" title="6.2.8 编辑宏的内容"></a>6.2.8 编辑宏的内容</h4><ul>
<li><code>:put a</code>（put 总会将内容粘贴到下一行)</li>
<li><code>&quot;ay$</code>（dd会留下^J）</li>
<li><code>let @a=substitute(@a, &#39;\~&#39;, &#39;vU&#39;, &#39;g&#39;)</code>（:h substitute()）（:h function-list）</li>
</ul>
<hr>
<h2 id="7-匹配"><a href="#7-匹配" class="headerlink" title="7. 匹配"></a>7. 匹配</h2><h3 id="7-1-按模式匹配及按原义匹配"><a href="#7-1-按模式匹配及按原义匹配" class="headerlink" title="7.1 按模式匹配及按原义匹配"></a>7.1 按模式匹配及按原义匹配</h3><h4 id="7-1-1-调整查找模式的大小写敏感性"><a href="#7-1-1-调整查找模式的大小写敏感性" class="headerlink" title="7.1.1 调整查找模式的大小写敏感性"></a>7.1.1 调整查找模式的大小写敏感性</h4><ul>
<li>全局设置大小写敏感性”<code>ignorecase</code>“（会影响关键字自动补全行为）</li>
<li><p>每次查找时设置大小写敏感（可以出现在元字符的任何位置）</p>
<ul>
<li><code>\c</code>忽略大小写</li>
<li><code>\C</code>强制区分大小写</li>
</ul>
</li>
<li><p>启用更智能的大小写敏感设置”<code>smartcase</code>“(:h /ignorecase)</p>
</li>
</ul>
<h4 id="7-1-2-按正则表达式查找时，使用-v模式开关"><a href="#7-1-2-按正则表达式查找时，使用-v模式开关" class="headerlink" title="7.1.2 按正则表达式查找时，使用\v模式开关"></a>7.1.2 按正则表达式查找时，使用<code>\v</code>模式开关</h4><ul>
<li><strong>magic</strong>模式下，方括号具有特殊含义，不用转义，圆括号开闭都要转义，花括号只需开括号转义</li>
<li><strong>very magic</strong>模式除_ ，大小写字母以及数字0到9之外的所有字符都具有特殊意义（:h \v）</li>
<li><code>:h /character-classes</code></li>
<li><code>:h /\\</code>任何还未具有特殊含义的字符都被保留以被将来扩展时使用</li>
<li><code>\v</code> <strong>very magic</strong> <code>\V</code>原义 <code>\m</code> magic(<code>.</code>，<code>*</code>,方括号具有特殊含义） <code>\M</code> nomadic（一些字符具有特殊含义，<code>^</code>与<code>$</code>）</li>
</ul>
<h4 id="7-1-3-按原义查找文本时，使用-V原义开关"><a href="#7-1-3-按原义查找文本时，使用-V原义开关" class="headerlink" title="7.1.3 按原义查找文本时，使用\V原义开关"></a>7.1.3 按原义查找文本时，使用<code>\V</code>原义开关</h4><blockquote>
<p><code>:h /\V</code></p>
</blockquote>
<h4 id="7-1-4-使用圆括号捕获子匹配"><a href="#7-1-4-使用圆括号捕获子匹配" class="headerlink" title="7.1.4 使用圆括号捕获子匹配"></a>7.1.4 使用圆括号捕获子匹配</h4><ul>
<li><code>\0</code>全匹配，<code>\1</code>-<code>\9</code>匹配捕获的文本</li>
<li><code>:h /\_</code> <code>:h 27.8</code></li>
</ul>
<h4 id="7-1-5-界定单词的边界"><a href="#7-1-5-界定单词的边界" class="headerlink" title="7.1.5 界定单词的边界"></a>7.1.5 界定单词的边界</h4><ul>
<li><code>&lt;</code>与<code>&gt;</code>符号表示单词定界符</li>
<li>使用圆括号但不捕获内容在括号前加<code>%</code></li>
<li><code>\W\ze\w</code>模拟元字符<code>&lt;</code>，<code>\w\ze\W</code>表示元字符<code>&gt;</code></li>
<li><code>&lt;</code>与<code>&gt;</code>只在very magic下不用转义<code>:h /\&lt;</code></li>
<li><code>*</code>与<code>#</code>查找光标下单词，有用到单词定界符</li>
<li><code>g*</code>与<code>g#</code>同上，但不使用单词定界符</li>
<li>零宽度元字符，本身不匹配字符，表示单词与围绕此单词的空白字符之间的边界</li>
</ul>
<h4 id="7-1-6-界定匹配的边界"><a href="#7-1-6-界定匹配的边界" class="headerlink" title="7.1.6 界定匹配的边界"></a>7.1.6 界定匹配的边界</h4><ul>
<li><code>\zs</code>匹配开始<code>:h /\zs</code></li>
<li><code>\ze</code>匹配结束</li>
</ul>
<h4 id="7-1-7-转义问题字符"><a href="#7-1-7-转义问题字符" class="headerlink" title="7.1.7 转义问题字符"></a>7.1.7 转义问题字符</h4><ul>
<li><code>\V</code>下正向查找需转义<code>/</code>与<code>\</code></li>
<li><code>\V</code>下反向查找需转义<code>?</code>与<code>\</code></li>
<li>用编程的方式转义字符<code>:h escape()</code> <code>:h getcmdtype()</code></li>
</ul>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">/\V<span class="symbol">&lt;C-r&gt;</span>=</div><div class="line">=<span class="built_in">escape</span>(@u, <span class="built_in">getcmdtype</span>().’\’)</div></pre></td></tr></table></figure>
<ul>
<li><code>/vim/e&lt;CR&gt;</code></li>
<li>GVim <code>:promptfind</code>（:h :promptfind）</li>
</ul>
<h3 id="7-2-查找"><a href="#7-2-查找" class="headerlink" title="7.2 查找"></a>7.2 查找</h3><h4 id="7-2-1-结识查找命令"><a href="#7-2-1-结识查找命令" class="headerlink" title="7.2.1 结识查找命令"></a>7.2.1 结识查找命令</h4><p>“<code>wrapscan</code>“  <code>:h &#39;wrapscan&#39;</code></p>
<table>
<thead>
<tr>
<th>按键操作</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>n</code></td>
<td>跳至下一处匹配，保持查找方向与偏移不变</td>
</tr>
<tr>
<td><code>N</code></td>
<td>跳至上一处匹配，保持查找方向与偏移不变</td>
</tr>
<tr>
<td><code>/&lt;CR&gt;</code></td>
<td>正向跳转至相同模式的下一处匹配</td>
</tr>
<tr>
<td><code>?&lt;CR&gt;</code></td>
<td>反向跳转至相同模式的上一处匹配</td>
</tr>
</tbody>
</table>
<h4 id="7-2-2-高亮查找匹配"><a href="#7-2-2-高亮查找匹配" class="headerlink" title="7.2.2 高亮查找匹配"></a>7.2.2 高亮查找匹配</h4><ul>
<li><code>:h &#39;hlsearch&#39;</code> 启用匹配高亮</li>
<li><code>:set nohlsearch</code>(<code>:se hls!</code>) 禁用匹配高亮</li>
<li><code>:nohlsearch</code> <code>:h noh</code> 临时关闭匹配高亮</li>
<li><code>nnoremap &lt;silent&gt; &lt;C-l&gt; :&lt;C-u&gt;nohlsearch&lt;CR&gt;&lt;C-l&gt;(:h CTRL-L)</code></li>
</ul>
<h4 id="7-2-3-在执行查找前预览第一处匹配"><a href="#7-2-3-在执行查找前预览第一处匹配" class="headerlink" title="7.2.3 在执行查找前预览第一处匹配"></a>7.2.3 在执行查找前预览第一处匹配</h4><ul>
<li><code>:h &#39;incsearch&#39;</code> 增量匹配</li>
<li><code>&lt;C-r&gt;&lt;C-w&gt;</code>查找域自动补全</li>
</ul>
<h4 id="7-2-4-统计当前模式的匹配个数"><a href="#7-2-4-统计当前模式的匹配个数" class="headerlink" title="7.2.4 统计当前模式的匹配个数"></a>7.2.4 统计当前模式的匹配个数</h4><blockquote>
<p><code>:%s///gn</code></p>
</blockquote>
<h4 id="7-2-5-将光标偏移到查找匹配结尾"><a href="#7-2-5-将光标偏移到查找匹配结尾" class="headerlink" title="7.2.5 将光标偏移到查找匹配结尾"></a>7.2.5 将光标偏移到查找匹配结尾</h4><ul>
<li><code>:h search-offset</code></li>
<li><code>/{pattern}/e&lt;CR&gt;</code></li>
</ul>
<h4 id="7-2-6-对完整的查找匹配进行操作"><a href="#7-2-6-对完整的查找匹配进行操作" class="headerlink" title="7.2.6 对完整的查找匹配进行操作"></a>7.2.6 对完整的查找匹配进行操作</h4><figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">/\vX(ht)?ml\C<span class="symbol">&lt;CR&gt;</span></div><div class="line">gU//<span class="keyword">e</span><span class="symbol">&lt;CR&gt;</span></div><div class="line">//<span class="symbol">&lt;CR&gt;</span></div><div class="line">.</div><div class="line">//<span class="symbol">&lt;CR&gt;</span>.</div></pre></td></tr></table></figure>
<ul>
<li><code>//&lt;CR&gt;</code>,<code>n</code>会重复<code>//e&lt;CR&gt;</code>所以不适合点范式</li>
<li>Natsuno textobj-laastpat插件<code>gUi/</code>解决了上面问题</li>
</ul>
<h4 id="7-2-7-利用查找历史，迭代完成复杂的模式"><a href="#7-2-7-利用查找历史，迭代完成复杂的模式" class="headerlink" title="7.2.7 利用查找历史，迭代完成复杂的模式"></a>7.2.7 利用查找历史，迭代完成复杂的模式</h4><ul>
<li><code>/&lt;UP&gt;</code>遍历查找历史</li>
<li><code>q/</code>在命令行窗口修改</li>
<li><code>c%(&lt;C-r&gt;&quot;)&lt;Esc&gt;</code></li>
<li><code>:%s//&quot;\1&quot;/g</code></li>
</ul>
<h4 id="7-2-8-查找当前高亮选区中的文本"><a href="#7-2-8-查找当前高亮选区中的文本" class="headerlink" title="7.2.8 查找当前高亮选区中的文本"></a>7.2.8 查找当前高亮选区中的文本</h4><ul>
<li><code>:h visual-search</code></li>
<li><code>:vmap X y/&lt;C-R&gt;&quot;&lt;CR&gt;</code>（某些特殊字符”<code>.</code>“或”<code>*</code>“通常会引起问题）</li>
<li>解决方案：</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">xnoremap *:&lt;C-u&gt;call &lt;SID&gt;VSetSearch()&lt;CR&gt;/&lt;C-R&gt;=@/&lt;CR&gt;&lt;CR&gt;</div><div class="line">xnoremap #:&lt;C-u&gt;call &lt;SID&gt;VSetSearch()&lt;CR&gt;?&lt;C-R&gt;=@/&lt;CR&gt;&lt;CR&gt;</div><div class="line">function! s:VsetSearch()</div><div class="line">   let temp = @s</div><div class="line">   norm! gv"sy</div><div class="line">   let @/ = '\V' .substitute(escape(@s, '/\'), '\n', '\\n', 'g')</div><div class="line">   let @s = temp</div><div class="line">endfunction</div></pre></td></tr></table></figure>
<ul>
<li><strong>visual star search</strong>插件</li>
<li><code>xnoremap</code>关键字指明映射项只在可视模式下有效，不包括选择模式</li>
<li><code>:h mapmode-x</code></li>
</ul>
<h3 id="7-3-替换"><a href="#7-3-替换" class="headerlink" title="7.3 替换"></a>7.3 替换</h3><h4 id="7-3-1-结识substitute命令"><a href="#7-3-1-结识substitute命令" class="headerlink" title="7.3.1 结识substitute命令"></a>7.3.1 结识substitute命令</h4><ul>
<li><code>:[range]s[ubstitute]/{pattern}/{string}/[flags]</code></li>
<li><p>标志位<code>:h s_flags</code></p>
<ul>
<li><code>g</code>，全局执行</li>
<li><code>c</code>，确认或拒绝</li>
<li><code>n</code>，抑制正常替换行为，即不执行替换操作，只报告匹配次数</li>
<li><code>e</code>，屏蔽错误提示</li>
<li><code>&amp;</code>，重用上一次的标志位</li>
</ul>
</li>
<li><p>特殊字符<code>:h sub-replace-special</code></p>
</li>
</ul>
<table>
<thead>
<tr>
<th>符号</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>\r</code></td>
<td>插入一个换行符</td>
</tr>
<tr>
<td><code>\t</code></td>
<td>插入一个制表符</td>
</tr>
<tr>
<td><code>\\</code></td>
<td>插入一个反斜杠</td>
</tr>
<tr>
<td><code>\n</code></td>
<td>插入第n个子匹配n为1-9</td>
</tr>
<tr>
<td><code>\0</code></td>
<td>插入匹配模式的所有内容</td>
</tr>
<tr>
<td><code>&amp;</code></td>
<td>插入匹配模式的所有内容</td>
</tr>
<tr>
<td><code>={vim script}</code></td>
<td>执行{vim script}表达式，并将返回的结果作为替换{string}</td>
</tr>
<tr>
<td><code>~</code></td>
<td>使用上一次调用时的{string}</td>
</tr>
</tbody>
</table>
<h4 id="7-3-2-在文件范围内查找并替换每一处匹配"><a href="#7-3-2-在文件范围内查找并替换每一处匹配" class="headerlink" title="7.3.2 在文件范围内查找并替换每一处匹配"></a>7.3.2 在文件范围内查找并替换每一处匹配</h4><ul>
<li>标志位<code>g</code></li>
</ul>
<h4 id="7-3-3-手动控制每一次替换操作"><a href="#7-3-3-手动控制每一次替换操作" class="headerlink" title="7.3.3 手动控制每一次替换操作"></a>7.3.3 手动控制每一次替换操作</h4><ul>
<li>标志位<code>c</code>   <code>:h :s_c</code></li>
</ul>
<table>
<thead>
<tr>
<th>答案</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>y</code></td>
<td>替换此处匹配</td>
</tr>
<tr>
<td><code>n</code></td>
<td>忽略此处匹配</td>
</tr>
<tr>
<td><code>q</code></td>
<td>退出替换过程</td>
</tr>
<tr>
<td><code>l</code></td>
<td>“last”–替换此处匹配后退出</td>
</tr>
<tr>
<td><code>a</code></td>
<td>“all”–替换此处与之后所有的匹配</td>
</tr>
<tr>
<td><code>&lt;C-e&gt;</code></td>
<td>向上滚动屏幕</td>
</tr>
<tr>
<td><code>&lt;C-y&gt;</code></td>
<td>向下滚动屏幕</td>
</tr>
</tbody>
</table>
<h4 id="7-3-4-重用上次的查找模式"><a href="#7-3-4-重用上次的查找模式" class="headerlink" title="7.3.4 重用上次的查找模式"></a>7.3.4 重用上次的查找模式</h4><ul>
<li>查找域留空</li>
<li><code>:h cmdline-history</code></li>
<li><code>&lt;C-r&gt;/</code>在命令历史中创建完整的记录</li>
</ul>
<h4 id="7-3-5-用寄存器的内容替换"><a href="#7-3-5-用寄存器的内容替换" class="headerlink" title="7.3.5 用寄存器的内容替换"></a>7.3.5 用寄存器的内容替换</h4><ul>
<li>传值：通过<code>&lt;C-r&gt;{register}</code>插入寄存器内容到替换域</li>
<li>引用：通过<code>\=@{register}</code>引用寄存器内容到替换域</li>
<li>比较：<code>:let @/=&#39;……&#39;</code>  <code>:let @a=&#39;……..&#39;</code>  <code>:%s//\=@a/g</code></li>
</ul>
<h4 id="7-3-6-重复上一次Substitute命令"><a href="#7-3-6-重复上一次Substitute命令" class="headerlink" title="7.3.6 重复上一次Substitute命令"></a>7.3.6 重复上一次Substitute命令</h4><ul>
<li><code>g&amp;</code>整个文件范围内执行上一次<code>substitute</code>命令 <code>:h g&amp;</code></li>
<li><code>:&amp;</code> 重复上一次<code>substitute</code>命令  <code>:h :&amp;</code></li>
<li><code>:&amp;&amp;</code> 后面的<code>&amp;</code>重复上一次的标志位</li>
<li><code>gv</code>  激活可视模式并选中上次高亮位置</li>
<li>修正<code>&amp;</code>命令</li>
</ul>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">nnoremap</span> &amp; :&amp;&amp;<span class="symbol">&lt;CR&gt;</span></div><div class="line"><span class="keyword">xnoremap</span> &amp; :&amp;&amp;<span class="symbol">&lt;CR&gt;</span></div></pre></td></tr></table></figure>
<h4 id="7-3-7-使用子匹配重排CSV文件的字段"><a href="#7-3-7-使用子匹配重排CSV文件的字段" class="headerlink" title="7.3.7 使用子匹配重排CSV文件的字段"></a>7.3.7 使用子匹配重排CSV文件的字段</h4><ul>
<li><code>\n</code></li>
</ul>
<h4 id="7-3-8-在替换过程中执行算术运算"><a href="#7-3-8-在替换过程中执行算术运算" class="headerlink" title="7.3.8 在替换过程中执行算术运算"></a>7.3.8 在替换过程中执行算术运算</h4><figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">/\v\&lt;\/?h\zs\d</div><div class="line">:%s//\=<span class="built_in">submatch</span>(<span class="number">0</span>) - <span class="number">1</span>/g</div></pre></td></tr></table></figure>
<h4 id="7-3-9-交换两个或更多的单词"><a href="#7-3-9-交换两个或更多的单词" class="headerlink" title="7.3.9 交换两个或更多的单词"></a>7.3.9 交换两个或更多的单词</h4><figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">/\v(<span class="symbol">&lt;man&gt;</span>|<span class="symbol">&lt;dog&gt;</span>)</div><div class="line">:%s//\=&#123;<span class="string">"dog"</span>:<span class="string">"man"</span>,<span class="string">"man"</span>:<span class="string">"dog"</span>&#125;[<span class="built_in">submatch</span>(<span class="number">1</span>)]/g</div></pre></td></tr></table></figure>
<ul>
<li><code>:h submatch()</code></li>
<li><strong>Abolish.vim</strong>:超级<code>substitute</code>命令<ul>
<li>由Tim pope开发的插件</li>
<li><code>:%S/{man,dog}/{dog,man}/g</code></li>
</ul>
</li>
</ul>
<h4 id="7-3-10-在多个文件中执行查找与替换"><a href="#7-3-10-在多个文件中执行查找与替换" class="headerlink" title="7.3.10 在多个文件中执行查找与替换"></a>7.3.10 在多个文件中执行查找与替换</h4><ul>
<li>散射法</li>
</ul>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">/Pragmatic\ze Vim</div><div class="line">:%s//Practical/g</div><div class="line">:<span class="keyword">args</span> **/*.txt</div><div class="line">:<span class="keyword">set</span> hidden</div><div class="line">:<span class="keyword">argdo</span> %s//Practical/ge</div></pre></td></tr></table></figure>
<ul>
<li>创建只包含目标的文件列表</li>
</ul>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">/Pragmatic\ze Vim</div><div class="line">:<span class="keyword">vimgrep</span> /<span class="symbol">&lt;C-r&gt;</span>// **/*.txt</div></pre></td></tr></table></figure>
<ul>
<li><code>:copen</code> 打开quickfix列表</li>
<li><strong>substitution/qargs.vim</strong></li>
</ul>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">command! -nargs=<span class="number">0</span> -bar Qargs <span class="keyword">execute</span> <span class="string">'args'</span> QuickfixFileName()</div><div class="line"><span class="function"><span class="keyword">function</span>! <span class="title">QuickfixFilenames</span><span class="params">()</span></span></div><div class="line">   <span class="keyword">let</span> buffer_numbers = &#123;&#125;</div><div class="line">   <span class="keyword">for</span> quickfix_item in <span class="built_in">getqflist</span>()</div><div class="line">       <span class="keyword">let</span> buffer_numbers[quickfix_item[<span class="string">'bufnr'</span>]] = <span class="built_in">bufname</span>(quickfix_item[<span class="string">'bufnr'</span>])</div><div class="line">   <span class="keyword">endfor</span></div><div class="line">   <span class="keyword">return</span> <span class="keyword">join</span>(<span class="keyword">map</span>(<span class="built_in">values</span>(buffer_numbers), <span class="string">'fnameescape(v:val)'</span>))</div><div class="line"><span class="keyword">endfunction</span></div></pre></td></tr></table></figure>
<ul>
<li><code>:Qargs</code> 把quickfix列表中的文件加至参数列表</li>
<li><code>:argdo %s//Practical/g</code></li>
<li><code>:argdo update</code> <code>:h update</code></li>
<li><code>:Qargs | argdo %s//Practical/g | update</code></li>
<li><code>:h :bar</code></li>
</ul>
<h3 id="7-4-global命令"><a href="#7-4-global命令" class="headerlink" title="7.4 global命令"></a>7.4 global命令</h3><h4 id="7-4-1-结识global命令"><a href="#7-4-1-结识global命令" class="headerlink" title="7.4.1 结识global命令"></a>7.4.1 结识global命令</h4><ul>
<li><code>:h :g</code></li>
<li><code>:[range]global[!] /{pattern}/ [cmd]</code></li>
<li><code>:global!  :vglobal</code></li>
</ul>
<h4 id="7-4-2-删除所有包含模式的文本行"><a href="#7-4-2-删除所有包含模式的文本行" class="headerlink" title="7.4.2 删除所有包含模式的文本行"></a>7.4.2 删除所有包含模式的文本行</h4><ul>
<li><p><code>:g/re/d</code></p>
<ul>
<li><code>/\v\&lt;\/?\w+&gt;</code></li>
<li><code>:g//d</code></li>
</ul>
</li>
<li><p><code>:v/re/d</code></p>
<ul>
<li><code>:v/href/d</code></li>
</ul>
</li>
</ul>
<h4 id="7-4-3-将ToDo项收集至寄存器"><a href="#7-4-3-将ToDo项收集至寄存器" class="headerlink" title="7.4.3 将ToDo项收集至寄存器"></a>7.4.3 将ToDo项收集至寄存器</h4><figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">qaq</div><div class="line">:g/TODO/<span class="keyword">yank</span> A</div><div class="line">:g/TODO/t$</div></pre></td></tr></table></figure>
<h4 id="7-4-4-将CSS文件中所有规则的属性按照字母排序"><a href="#7-4-4-将CSS文件中所有规则的属性按照字母排序" class="headerlink" title="7.4.4 将CSS文件中所有规则的属性按照字母排序"></a>7.4.4 将CSS文件中所有规则的属性按照字母排序</h4><ul>
<li><code>:h :sort</code></li>
<li><code>vi{ | :’&lt;,’&gt;sort</code></li>
<li><code>:g/{/ .+1,/}/-1 sort</code></li>
<li><code>:g/{pattern}/[range][cmd]</code></li>
<li><code>:g/{start}/ .,{finish} [cmd]</code></li>
<li><code>:g/{/ .+1,/}/-1 &gt;</code></li>
<li><code>:h &gt;</code> <code>:h</code> <code>:sil</code> <code>:slient</code></li>
<li><code>:g/{/sil .+1,/}/-1 &gt;</code></li>
</ul>
<hr>
<h2 id="8-工具"><a href="#8-工具" class="headerlink" title="8. 工具"></a>8. 工具</h2><h3 id="8-1-过ctags建立索引，并用其浏览源代码"><a href="#8-1-过ctags建立索引，并用其浏览源代码" class="headerlink" title="8.1 过ctags建立索引，并用其浏览源代码"></a>8.1 过ctags建立索引，并用其浏览源代码</h3><h4 id="8-1-1-结识ctags"><a href="#8-1-1-结识ctags" class="headerlink" title="8.1.1 结识ctags"></a>8.1.1 结识ctags</h4><h5 id="8-1-1-1-安装Exuberant-Ctags"><a href="#8-1-1-1-安装Exuberant-Ctags" class="headerlink" title="8.1.1.1 安装Exuberant Ctags"></a>8.1.1.1 安装Exuberant Ctags</h5><ul>
<li><code>sudo apt-get install exuberant-ctags</code></li>
<li>osx自带的是ctags的BSD</li>
<li><code>brew install ctags</code></li>
<li>修改$PATH使/usr/local/bin比/usr/bin优先</li>
<li>Doctor JS,jsctags</li>
</ul>
<h5 id="8-1-1-2-创建代码库索引"><a href="#8-1-1-2-创建代码库索引" class="headerlink" title="8.1.1.2 创建代码库索引"></a>8.1.1.2 创建代码库索引</h5><ul>
<li><code>ctags *.rb</code></li>
</ul>
<h5 id="8-1-1-3-详解标签文件"><a href="#8-1-1-3-详解标签文件" class="headerlink" title="8.1.1.3 详解标签文件"></a>8.1.1.3 详解标签文件</h5><ul>
<li>前几行由元数据组成</li>
<li>此后的每一行由关键字、文件名以及关键字在源代码中的位置构成</li>
<li>关键字按字母顺序排列<h5 id="8-1-1-4-用模式定位关键字，而不是行号"><a href="#8-1-1-4-用模式定位关键字，而不是行号" class="headerlink" title="8.1.1.4 用模式定位关键字，而不是行号"></a>8.1.1.4 用模式定位关键字，而不是行号</h5></li>
<li>关键字的地址可以是任意的Ex命令</li>
</ul>
<h5 id="8-1-1-5-用元数据标记关键字"><a href="#8-1-1-5-用元数据标记关键字" class="headerlink" title="8.1.1.5 用元数据标记关键字"></a>8.1.1.5 用元数据标记关键字</h5><ul>
<li>传统由制表符分隔3组字段构成：关键字、文件名以及定位符</li>
<li>扩展格式：末尾添加字段，为关键字提供元数据，c类，f函数</li>
</ul>
<h4 id="8-1-2-配置Vim使用ctags"><a href="#8-1-2-配置Vim使用ctags" class="headerlink" title="8.1.2 配置Vim使用ctags"></a>8.1.2 配置Vim使用ctags</h4><ul>
<li><code>:h &#39;tags&#39;</code>指定标签文件查找路径</li>
<li><code>:h tags-option</code></li>
<li><code>set tags?</code>查看选项内容</li>
</ul>
<h5 id="8-1-2-1-生成标签文件"><a href="#8-1-2-1-生成标签文件" class="headerlink" title="8.1.2.1 生成标签文件"></a>8.1.2.1 生成标签文件</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">!ctags -R</div><div class="line">-exclude=.git // or -languages=-sql</div><div class="line">:nnoremap &lt;f5&gt; :!ctags -R&lt;CR&gt;  //映射快捷键</div></pre></td></tr></table></figure>
<h5 id="8-1-2-2-在每次保存文件时自动执行ctags"><a href="#8-1-2-2-在每次保存文件时自动执行ctags" class="headerlink" title="8.1.2.2 在每次保存文件时自动执行ctags"></a>8.1.2.2 在每次保存文件时自动执行ctags</h5><ul>
<li><code>autocommand</code>允许事件发生时调用一条命令</li>
<li><code>:autocmd BufWritePost * call system(&quot;ctags -R&quot;)</code></li>
</ul>
<h5 id="8-1-2-3-通过版本控制工具的回调机制自动执行ctags"><a href="#8-1-2-3-通过版本控制工具的回调机制自动执行ctags" class="headerlink" title="8.1.2.3 通过版本控制工具的回调机制自动执行ctags"></a>8.1.2.3 通过版本控制工具的回调机制自动执行ctags</h5><blockquote>
<p>Tim Pope的&lt;<effortless ctags="" with="" git="">&gt;讲解了如何为post-commit、post-merge、以及post-checkout等事件建立回调机制</effortless></p>
</blockquote>
<h4 id="8-1-3-使用Vim的标签中转命令，浏览关键字的定义"><a href="#8-1-3-使用Vim的标签中转命令，浏览关键字的定义" class="headerlink" title="8.1.3 使用Vim的标签中转命令，浏览关键字的定义"></a>8.1.3 使用Vim的标签中转命令，浏览关键字的定义</h4><ul>
<li><code>&lt;C-]&gt;</code>跳转到</li>
<li><code>&lt;C-t&gt;</code>跳回</li>
<li><code>g&lt;C-]&gt;</code>可选跳转</li>
<li><code>:h tag-stack</code>、<code>:h tag-priority</code></li>
<li><code>:tselect</code> <code>:tprev</code> <code>:tnext</code> <code>:tfirst</code> <code>:tlast</code></li>
<li><code>:tag{keyword}</code>等同于<code>&lt;C-]&gt;</code></li>
<li><code>:tjump{keyword}</code>等同于<code>g&lt;C-]&gt;</code></li>
<li><code>:h :tag</code> <code>:h :tjump</code></li>
<li><code>:tag /{pattern}</code> <code>:tjump /{pattern}</code></li>
<li><code>:pop</code>等同于<code>&lt;C-t&gt;</code></li>
</ul>
<h3 id="8-2-编译代码，并通过Quickfix列表浏览错误信息"><a href="#8-2-编译代码，并通过Quickfix列表浏览错误信息" class="headerlink" title="8.2 编译代码，并通过Quickfix列表浏览错误信息"></a>8.2 编译代码，并通过Quickfix列表浏览错误信息</h3><h4 id="8-2-1-不用离开Vim也能编译代码"><a href="#8-2-1-不用离开Vim也能编译代码" class="headerlink" title="8.2.1 不用离开Vim也能编译代码"></a>8.2.1 不用离开Vim也能编译代码</h4><ul>
<li>准备工作</li>
<li>在Shell中编译工程<code>make</code></li>
<li>在Vim中编译工程<code>:make</code><ul>
<li><code>:h quickfix</code>加快 编辑-编译-编辑 循环</li>
<li><code>:cnext</code>跳转到下一次quickfix</li>
<li><code>:make!</code>编译不自动跳转</li>
</ul>
</li>
</ul>
<h4 id="8-2-2-浏览Quickfix列表"><a href="#8-2-2-浏览Quickfix列表" class="headerlink" title="8.2.2 浏览Quickfix列表"></a>8.2.2 浏览Quickfix列表</h4><h5 id="8-2-2-1-位置列表以-开头，quickfix只有一份，位置列表有多份"><a href="#8-2-2-1-位置列表以-开头，quickfix只有一份，位置列表有多份" class="headerlink" title="8.2.2.1 位置列表以|开头，quickfix只有一份，位置列表有多份"></a>8.2.2.1 位置列表以|开头，quickfix只有一份，位置列表有多份</h5><ul>
<li><code>:lnext</code> <code>:lprev</code> <code>:ll N</code> <code>:lmake</code> <code>:lgrep</code> <code>:lvimgrep</code></li>
</ul>
<table>
<thead>
<tr>
<th>命令</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>:cnext</code></td>
<td>跳转到下一项</td>
</tr>
<tr>
<td><code>:cprev</code></td>
<td>跳转到上一项</td>
</tr>
<tr>
<td><code>:cfirst</code></td>
<td>跳转到第一项</td>
</tr>
<tr>
<td><code>:clast</code></td>
<td>跳转到最后一项</td>
</tr>
<tr>
<td><code>:cnfile</code></td>
<td>跳转到下一个文件中的第一项</td>
</tr>
<tr>
<td><code>:cpfile</code></td>
<td>跳转到上一个文件中的最后一项</td>
</tr>
<tr>
<td><code>:cc N</code></td>
<td>跳转到第n项</td>
</tr>
<tr>
<td><code>:copen</code></td>
<td>打开quickfix窗口</td>
</tr>
<tr>
<td><code>:cclose</code></td>
<td>关闭quickfix窗口</td>
</tr>
</tbody>
</table>
<h4 id="8-2-3-回溯以前的Quickfix列表"><a href="#8-2-3-回溯以前的Quickfix列表" class="headerlink" title="8.2.3 回溯以前的Quickfix列表"></a>8.2.3 回溯以前的Quickfix列表</h4><ul>
<li><code>:colder</code> <code>:cnewer</code></li>
</ul>
<h4 id="8-2-4-定制外部编译器"><a href="#8-2-4-定制外部编译器" class="headerlink" title="8.2.4 定制外部编译器"></a>8.2.4 定制外部编译器</h4><ul>
<li><code>:h :compiler</code> <code>:h :make</code></li>
<li>配置<code>:make</code>命令，使调用JSLint来验证JavaScript文件<ul>
<li>nodelint依赖Node.js，可以通过NPM命令安装<code>npm install nodelint -g</code></li>
<li><code>:h &#39;makeprg&#39;</code>允许指定运行:make时所调用的程序</li>
<li><code>:setlocal makeprg=NODE_DISABLE_COLORS=1\nodelint\%</code><ul>
<li>相当于在命令行执行<code>export NODE_DISABLE_COLORS=1 nodelint 文件路径</code></li>
</ul>
</li>
<li>用Nodelint的输出结果填充Quickfix列表<ul>
<li><code>errorformat</code>选项允许我们指导Vim如何解析由<code>:make</code>产生的输出结果<code>:h &#39;errorformat&#39;</code></li>
<li>查看缺省选项<code>:setglobal errorformat?</code></li>
<li><code>%f</code>文件名， <code>%l</code>行号，<code>%m</code>错误信息，<code>:h errorformat</code></li>
<li><code>setlocal efm=%A%f\,\ line\ %l\,\ character\ %c:%m,%Z%.%#,%-G%.%#</code></li>
</ul>
</li>
<li>一条命令设置<code>makeprg</code>与<code>errorformat</code><ul>
<li><code>:h :compiler</code></li>
<li><code>:compiler nodelint</code></li>
<li><code>:args $VIMRUNTIME/compiler/*.vim</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="8-3-通过grep-vimgrep以及其他工具对整个工程进行查找"><a href="#8-3-通过grep-vimgrep以及其他工具对整个工程进行查找" class="headerlink" title="8.3 通过grep,vimgrep以及其他工具对整个工程进行查找"></a>8.3 通过grep,vimgrep以及其他工具对整个工程进行查找</h3><h4 id="8-3-1-不必离开Vim也能调用grep"><a href="#8-3-1-不必离开Vim也能调用grep" class="headerlink" title="8.3.1 不必离开Vim也能调用grep"></a>8.3.1 不必离开Vim也能调用grep</h4><ul>
<li><code>:h :grep</code></li>
<li><code>-i</code>不区分大小写</li>
</ul>
<h4 id="8-3-2-定制grep程序"><a href="#8-3-2-定制grep程序" class="headerlink" title="8.3.2 定制grep程序"></a>8.3.2 定制grep程序</h4><ul>
<li><code>:h &#39;grepprg&#39;</code> <code>$*</code>代表占位符，代替参数</li>
<li><code>:h &#39;grepformat&#39;</code>可以逗号分隔多组格式</li>
<li><code>:h errorformat</code></li>
<li><code>grepprg=&quot;grep -n $* /dev/null&quot;</code></li>
<li><code>grepformat=&quot;%f:%l:%m,%f:%l%m,%f %l%m&quot;</code></li>
<li>通过<code>:grep</code>调用<code>ack</code><ul>
<li>安装<code>ack</code><ul>
<li>ubuntu<ul>
<li><code>sudo apt-get install ack-prep</code></li>
<li><code>sudo ln -s /usr/bin/ack-grep /usr/local/bin/ack</code></li>
</ul>
</li>
<li>OSX<ul>
<li><code>brew install ack</code></li>
</ul>
</li>
</ul>
</li>
<li><code>:set grepprg=ack\ -nogroup -column\ $*</code></li>
<li><code>:set grepformat=%f:%l:%c:%m</code></li>
</ul>
</li>
<li>其他grep插件<ul>
<li>ack.vim</li>
<li>fugitive.vim <code>:Ggrep git-grep</code></li>
</ul>
</li>
<li>使用Vim内部的Grep<ul>
<li><code>:vim[grep][!]/{pattern}/[g][j] {file} ...</code></li>
<li><code>g</code> 允许单行多匹配</li>
<li><code>j</code> 允许不自动跳转</li>
<li><code>:h :_##</code></li>
</ul>
</li>
</ul>
<h4 id="8-3-3-自动补全"><a href="#8-3-3-自动补全" class="headerlink" title="8.3.3 自动补全"></a>8.3.3 自动补全</h4><ul>
<li>结识Vim关键字自动补全<ul>
<li><code>:h &#39;ignorecase&#39;</code>会影响自动补全</li>
<li><code>:h &#39;inercase&#39;</code>避免<code>ignorecase</code>对自动补全的影响</li>
<li><code>&lt;C-p&gt;</code>和<code>&lt;C-n&gt;</code>调用普通关键字自动补全</li>
<li><code>&lt;C-x&gt;</code> <code>:h ins-completion</code></li>
</ul>
</li>
<li>与自动补全的弹出式菜单进行交互<ul>
<li><code>:h popupmenu-completion</code></li>
</ul>
</li>
<li>掌握关键字的来龙去脉<ul>
<li><code>:h compl-current &lt;C-x&gt;&lt;C-n&gt;</code>当前关键字补全</li>
<li><code>:h compl-keyword &lt;C-x&gt;&lt;C-i&gt;</code></li>
<li><code>:h &#39;include&#39;</code></li>
<li><code>:h compl-tag &lt;C-x&gt;&lt;C-]&gt;</code></li>
<li><code>:h &#39;complete&#39;</code></li>
</ul>
</li>
<li>使用字典中的单词进行自动补全<ul>
<li><code>:h compl-dictionary &lt;C-x&gt;&lt;C-k&gt;</code></li>
<li><code>:set spell</code></li>
<li><code>:h &#39;dictionary&#39;</code></li>
</ul>
</li>
<li>自动补全整行文本<ul>
<li><code>:h compl-whole-line &lt;C-x&gt;&lt;C-l&gt;</code></li>
</ul>
</li>
<li>自动补全文件名<ul>
<li><code>:h compl-filename &lt;C-x&gt;&lt;C-f&gt;</code></li>
<li><code>:pwd</code></li>
<li><code>:cd {path}</code></li>
<li><code>:cd -</code> <code>:h :cd-</code>切换回原来的工作目录</li>
</ul>
</li>
<li>根据上下文自动补全<ul>
<li><code>:h compl-ommi &lt;C-x&gt;&lt;C-o&gt;</code></li>
<li><code>:h compl-omni-filetypes</code></li>
<li><code>:h complete-function</code></li>
</ul>
</li>
</ul>
<table>
<thead>
<tr>
<th>命令</th>
<th>补全类型</th>
</tr>
</thead>
<tbody>
<tr>
<td><c-n></c-n></td>
<td>普通关键字</td>
</tr>
<tr>
<td><c-x><c-n></c-n></c-x></td>
<td>当前缓冲区关键字</td>
</tr>
<tr>
<td><c-x><c-i></c-i></c-x></td>
<td>包含文件关键字</td>
</tr>
<tr>
<td><c-x><c-]></c-]></c-x></td>
<td>标签文件关键字</td>
</tr>
<tr>
<td><c-x><c-k></c-k></c-x></td>
<td>字典查找</td>
</tr>
<tr>
<td><c-x><c-l></c-l></c-x></td>
<td>整行补全</td>
</tr>
<tr>
<td><c-x><c-f></c-f></c-x></td>
<td>文件名补全</td>
</tr>
<tr>
<td><c-x><c-o></c-o></c-x></td>
<td>全能补全</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>按键操作</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td><c-n></c-n></td>
<td>使用来自补全列表的下一个匹配项</td>
</tr>
<tr>
<td><c-p></c-p></td>
<td>使用来自补全列表的上一个匹配项</td>
</tr>
<tr>
<td><down></down></td>
<td>选择来自补全列表的下一个匹配项</td>
</tr>
<tr>
<td><up></up></td>
<td>选择来自补全列表的上一个匹配项</td>
</tr>
<tr>
<td><c-y></c-y></td>
<td>确认使用当前选中的匹配项</td>
</tr>
<tr>
<td><c-e></c-e></td>
<td>还原最早输入的文本</td>
</tr>
<tr>
<td><c-h>或<bs></bs></c-h></td>
<td>从当前匹配项中删除一个字符</td>
</tr>
<tr>
<td><c-l></c-l></td>
<td>从当前匹配项中增加一个字符</td>
</tr>
<tr>
<td>{char}</td>
<td>中止自动补全并插入字符</td>
</tr>
</tbody>
</table>
<h4 id="8-3-4-利用Vim的拼写检查器，查找并更正拼写错误"><a href="#8-3-4-利用Vim的拼写检查器，查找并更正拼写错误" class="headerlink" title="8.3.4 利用Vim的拼写检查器，查找并更正拼写错误"></a>8.3.4 利用Vim的拼写检查器，查找并更正拼写错误</h4><ul>
<li>对你工作进行拼写检查<ul>
<li><code>:set spell</code></li>
<li><code>[s</code>和<code>]s</code>遍历拼写错误项<code>:h ]s</code></li>
<li><code>z=</code>获取建议项<code>:h z=, 1z=</code></li>
<li><code>zg</code>将当前单词添加到拼写文件中</li>
<li><code>zw</code>把当前单词从拼写文件中删除</li>
<li><code>zug</code>撤消针对当前单词的<code>zg</code>或<code>zw</code>命令</li>
</ul>
</li>
<li>使用其他拼写字典<ul>
<li><code>:h &#39;spelllang&#39;</code></li>
<li><code>:h spell-remarks</code></li>
<li><code>:h spelllfile.vim</code></li>
</ul>
</li>
<li>将单词添加到拼写文件中<code>:h &#39;spellfile&#39;</code></li>
<li>在插入模式下更正拼写错误<code>&lt;C-x&gt;s</code> <code>:h compl-spelling</code></li>
</ul>
<h4 id="8-3-5-接下来干什么"><a href="#8-3-5-接下来干什么" class="headerlink" title="8.3.5 接下来干什么"></a>8.3.5 接下来干什么</h4><ul>
<li>继续练习</li>
<li>定制你自己的vim<ul>
<li>essential.vim</li>
<li>vimcasts.org</li>
<li>moolenaar.net/habits.html</li>
<li>github.com/nelstrom/dotfiles</li>
<li>iccf-holland.org</li>
</ul>
</li>
<li>欲善其事，先利其器</li>
</ul>
<h3 id="8-4-根据个人喜好定制vim"><a href="#8-4-根据个人喜好定制vim" class="headerlink" title="8.4 根据个人喜好定制vim"></a>8.4 根据个人喜好定制vim</h3><h4 id="8-4-1-动态改变vim的设置项"><a href="#8-4-1-动态改变vim的设置项" class="headerlink" title="8.4.1 动态改变vim的设置项"></a>8.4.1 动态改变vim的设置项</h4><ul>
<li><code>:h option-list</code></li>
<li>选项前面加no,关闭功能</li>
<li>选项之后加!,反转设置</li>
<li>选项之后加?,获取选项当前状态</li>
<li>选项之后加&amp;,重置为默认值</li>
<li>可以set多组选项</li>
<li>setlocal只对当前缓冲区设置</li>
</ul>
<h4 id="8-4-2-将配置信息存至vimrc文件"><a href="#8-4-2-将配置信息存至vimrc文件" class="headerlink" title="8.4.2 将配置信息存至vimrc文件"></a>8.4.2 将配置信息存至vimrc文件</h4><ul>
<li><code>:h :source</code></li>
<li><code>:source {file}</code>应用文件设置项</li>
<li><code>:h vimrc</code></li>
<li><code>:edit $MYVIMRC</code></li>
</ul>
<h4 id="8-4-3-为特定类型的文件应用个性化设置"><a href="#8-4-3-为特定类型的文件应用个性化设置" class="headerlink" title="8.4.3 为特定类型的文件应用个性化设置"></a>8.4.3 为特定类型的文件应用个性化设置</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">if has(&quot;autocmd&quot;)</div><div class="line">  filetype on</div><div class="line">  autocmd FileType ruby setlocal ts=2 sts=2 sw=2 et</div><div class="line">  autocmd FileType javascript setlocal ts=4 sts=4 sw=4 noet</div><div class="line">endif</div></pre></td></tr></table></figure>
<ul>
<li><code>:h :autocmd</code></li>
<li><code>:h ftplugin-name</code></li>
<li>~/.vim/after/ftplugin/javascript.vim</li>
<li><code>filetype plugin on</code></li>
</ul>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>


    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/vim/" rel="tag"># vim</a>
          
            <a href="/tags/笔记/" rel="tag"># 笔记</a>
          
            <a href="/tags/技巧/" rel="tag"># 技巧</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2015/08/02/图形思考力量大-解决不了的问题-用画的-就对了/" rel="next" title="图形思考力量大：解决不了的问题, 用画的就对了！">
                <i class="fa fa-chevron-left"></i> 图形思考力量大：解决不了的问题, 用画的就对了！
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2015/08/07/疯狂Vim折腾之插件/" rel="prev" title="疯狂Vim折腾之插件">
                疯狂Vim折腾之插件 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
        <div class="ds-share flat" data-thread-key="2015/08/07/Vim实用技巧/"
     data-title="实用技巧"
     data-content=""
     data-url="http://x8087.github.io/2015/08/07/Vim实用技巧/">
  <div class="ds-share-inline">
    <ul  class="ds-share-icons-16">

      <li data-toggle="ds-share-icons-more"><a class="ds-more" href="javascript:void(0);">分享到：</a></li>
      <li><a class="ds-weibo" href="javascript:void(0);" data-service="weibo">微博</a></li>
      <li><a class="ds-qzone" href="javascript:void(0);" data-service="qzone">QQ空间</a></li>
      <li><a class="ds-qqt" href="javascript:void(0);" data-service="qqt">腾讯微博</a></li>
      <li><a class="ds-wechat" href="javascript:void(0);" data-service="wechat">微信</a></li>

    </ul>
    <div class="ds-share-icons-more">
    </div>
  </div>
</div>
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div class="ds-thread" data-thread-key="2015/08/07/Vim实用技巧/"
           data-title="实用技巧" data-url="http://x8087.github.io/2015/08/07/Vim实用技巧/">
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.jpg"
               alt="x8087" />
          <p class="site-author-name" itemprop="name">x8087</p>
          <p class="site-description motion-element" itemprop="description"></p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">19</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              
                <span class="site-state-item-count">5</span>
                <span class="site-state-item-name">分类</span>
              
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">42</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/x8087" target="_blank" title="github">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  github
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/u/1817414410" target="_blank" title="weibo">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  weibo
                </a>
              </span>
            
          
        </div>

        
        
          <div class="cc-license motion-element" itemprop="license">
            <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" target="_blank">
              <img src="/images/cc-by-nc-sa.svg" alt="Creative Commons" />
            </a>
          </div>
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#0-Vim解决问题的方式"><span class="nav-number">1.</span> <span class="nav-text">0. Vim解决问题的方式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#结识-hpoint-命令"><span class="nav-number">1.1.</span> <span class="nav-text">结识. [^hpoint] 命令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#不要自我重复"><span class="nav-number">1.2.</span> <span class="nav-text">不要自我重复</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#减少无关移动"><span class="nav-number">1.2.1.</span> <span class="nav-text">减少无关移动</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#复合命令"><span class="nav-number">1.2.2.</span> <span class="nav-text">复合命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#常用复合命令"><span class="nav-number">1.2.3.</span> <span class="nav-text">常用复合命令</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#以退为进"><span class="nav-number">1.3.</span> <span class="nav-text">以退为进</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#执行、重复、回退"><span class="nav-number">1.4.</span> <span class="nav-text">执行、重复、回退</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#查找并手动替换"><span class="nav-number">1.5.</span> <span class="nav-text">查找并手动替换</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#结识-范式"><span class="nav-number">1.6.</span> <span class="nav-text">结识.范式</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-模式"><span class="nav-number">2.</span> <span class="nav-text">2. 模式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-普通"><span class="nav-number">2.1.</span> <span class="nav-text">2.1. 普通</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-1-1-把撤消单元切成块，普通模式和插入模式之间切换的粒度"><span class="nav-number">2.1.1.</span> <span class="nav-text">2.1.1. 把撤消单元切成块，普通模式和插入模式之间切换的粒度,</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-1-2-构造可重复的修改"><span class="nav-number">2.1.2.</span> <span class="nav-text">2.1.2. 构造可重复的修改:</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-1-3-用次数做简单的算术运算"><span class="nav-number">2.1.3.</span> <span class="nav-text">2.1.3. 用次数做简单的算术运算</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-1-4-能够重复，就别用次数"><span class="nav-number">2.1.4.</span> <span class="nav-text">2.1.4. 能够重复，就别用次数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-1-5-双剑合璧，天下无敌"><span class="nav-number">2.1.5.</span> <span class="nav-text">2.1.5. 双剑合璧，天下无敌</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-插入"><span class="nav-number">2.2.</span> <span class="nav-text">2.2. 插入</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-2-1-在插入模式中即时更正错误"><span class="nav-number">2.2.1.</span> <span class="nav-text">2.2.1. 在插入模式中即时更正错误</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-2-2-返回普通模式"><span class="nav-number">2.2.2.</span> <span class="nav-text">2.2.2. 返回普通模式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-2-3-不离开插入模式，粘贴寄存器中的文本"><span class="nav-number">2.2.3.</span> <span class="nav-text">2.2.3. 不离开插入模式，粘贴寄存器中的文本</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-2-4-随时随地做运算"><span class="nav-number">2.2.4.</span> <span class="nav-text">2.2.4. 随时随地做运算</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-2-5-用字符编码插入非常用字符"><span class="nav-number">2.2.5.</span> <span class="nav-text">2.2.5. 用字符编码插入非常用字符</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-2-6-用二合字母-digraphsdefault-插入非常用字符"><span class="nav-number">2.2.6.</span> <span class="nav-text">2.2.6. 用二合字母[^digraphsdefault]插入非常用字符</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-2-7-用替换模式替换已有文本"><span class="nav-number">2.2.7.</span> <span class="nav-text">2.2.7. 用替换模式替换已有文本</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-3-可视"><span class="nav-number">2.3.</span> <span class="nav-text">2.3. 可视</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-3-1-深入理解可视模式"><span class="nav-number">2.3.1.</span> <span class="nav-text">2.3.1. 深入理解可视模式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-3-2-选择高亮选区"><span class="nav-number">2.3.2.</span> <span class="nav-text">2.3.2. 选择高亮选区</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-3-3-重复执行面向行的可视命令"><span class="nav-number">2.3.3.</span> <span class="nav-text">2.3.3. 重复执行面向行的可视命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-3-4-只要可能，最好用操作符命令，而不是可视命令"><span class="nav-number">2.3.4.</span> <span class="nav-text">2.3.4. 只要可能，最好用操作符命令，而不是可视命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-3-5-用面向列块的可视模式编辑表格数据"><span class="nav-number">2.3.5.</span> <span class="nav-text">2.3.5. 用面向列块的可视模式编辑表格数据</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-3-6-修改列文本"><span class="nav-number">2.3.6.</span> <span class="nav-text">2.3.6. 修改列文本</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-3-7-在长短不一的高亮块后添加文本"><span class="nav-number">2.3.7.</span> <span class="nav-text">2.3.7. 在长短不一的高亮块后添加文本</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-4-命令行"><span class="nav-number">2.4.</span> <span class="nav-text">2.4 命令行</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-4-1-结识vim的命令行模式"><span class="nav-number">2.4.1.</span> <span class="nav-text">2.4.1 结识vim的命令行模式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-4-2-在一行或多个连续行上执行命令"><span class="nav-number">2.4.2.</span> <span class="nav-text">2.4.2 在一行或多个连续行上执行命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-4-3-使用-t和-m命令复制和移动行"><span class="nav-number">2.4.3.</span> <span class="nav-text">2.4.3 使用:t和:m命令复制和移动行</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-4-4-在指定范围上执行普通模式命令"><span class="nav-number">2.4.4.</span> <span class="nav-text">2.4.4 在指定范围上执行普通模式命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-4-5-重复上次的Ex命令"><span class="nav-number">2.4.5.</span> <span class="nav-text">2.4.5 重复上次的Ex命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-4-6-自动补全Ex命令-commandcomplete"><span class="nav-number">2.4.6.</span> <span class="nav-text">2.4.6 自动补全Ex命令[^commandcomplete]</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-4-7-把当前单词插入到命令行"><span class="nav-number">2.4.7.</span> <span class="nav-text">2.4.7 把当前单词插入到命令行</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-4-8-回溯历史命令"><span class="nav-number">2.4.8.</span> <span class="nav-text">2.4.8 回溯历史命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-4-9-运行Shell命令"><span class="nav-number">2.4.9.</span> <span class="nav-text">2.4.9 运行Shell命令</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-管理多个文件"><span class="nav-number">3.</span> <span class="nav-text">3. 管理多个文件</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1-用缓冲区列表管理打开的文件"><span class="nav-number">3.1.</span> <span class="nav-text">3.1 用缓冲区列表管理打开的文件</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#3-1-1-ls列出缓冲区列表-ls"><span class="nav-number">3.1.1.</span> <span class="nav-text">3.1.1 ls列出缓冲区列表[^ls]</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-1-2-使用缓冲区列表："><span class="nav-number">3.1.2.</span> <span class="nav-text">3.1.2 使用缓冲区列表：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-1-3-删除缓冲区"><span class="nav-number">3.1.3.</span> <span class="nav-text">3.1.3 删除缓冲区</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-用参数列表将缓冲区分组"><span class="nav-number">3.2.</span> <span class="nav-text">3.2 用参数列表将缓冲区分组</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-3-管理隐藏缓冲区"><span class="nav-number">3.3.</span> <span class="nav-text">3.3 管理隐藏缓冲区</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-4-将工作区切分成窗口"><span class="nav-number">3.4.</span> <span class="nav-text">3.4 将工作区切分成窗口</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-5-用标签页将窗口分组-tabpage"><span class="nav-number">3.5.</span> <span class="nav-text">3.5 用标签页将窗口分组[^tabpage]</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-打开和保存文件"><span class="nav-number">4.</span> <span class="nav-text">4. 打开和保存文件</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#4-1-用edit命令打开文件"><span class="nav-number">4.1.</span> <span class="nav-text">4.1 用edit命令打开文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-2-使用find打开文件"><span class="nav-number">4.2.</span> <span class="nav-text">4.2 使用find打开文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-3-使用netrw管理文件系统"><span class="nav-number">4.3.</span> <span class="nav-text">4.3 使用netrw管理文件系统</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-4-把文件保存到不存在的目录中"><span class="nav-number">4.4.</span> <span class="nav-text">4.4 把文件保存到不存在的目录中</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-5-以超级用户权限保存文件"><span class="nav-number">4.5.</span> <span class="nav-text">4.5 以超级用户权限保存文件</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-移动跳转-motion"><span class="nav-number">5.</span> <span class="nav-text">5. 移动跳转[^motion]</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#5-1-用动作命令在文档中移动"><span class="nav-number">5.1.</span> <span class="nav-text">5.1 用动作命令在文档中移动</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#5-1-1-让手指保持在本位行上"><span class="nav-number">5.1.1.</span> <span class="nav-text">5.1.1 让手指保持在本位行上</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-1-2-区分实际行与屏幕行"><span class="nav-number">5.1.2.</span> <span class="nav-text">5.1.2 区分实际行与屏幕行</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-1-3-基于单词移动-wordmotions"><span class="nav-number">5.1.3.</span> <span class="nav-text">5.1.3 基于单词移动[^wordmotions]</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-1-4-对字符进行查找"><span class="nav-number">5.1.4.</span> <span class="nav-text">5.1.4 对字符进行查找</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-1-5-通过查找进行移动"><span class="nav-number">5.1.5.</span> <span class="nav-text">5.1.5 通过查找进行移动</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-1-6-用精确的文本对象选择选区-textobjects"><span class="nav-number">5.1.6.</span> <span class="nav-text">5.1.6 用精确的文本对象选择选区[^textobjects]</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-1-7-删除周边，修改内部"><span class="nav-number">5.1.7.</span> <span class="nav-text">5.1.7 删除周边，修改内部</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-1-8-设置位置标记-markmotion-，以便快速跳回"><span class="nav-number">5.1.8.</span> <span class="nav-text">5.1.8 设置位置标记[^markmotion]，以便快速跳回</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-1-9-在匹配括号间跳转"><span class="nav-number">5.1.9.</span> <span class="nav-text">5.1.9 在匹配括号间跳转</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-2-在文件间跳转"><span class="nav-number">5.2.</span> <span class="nav-text">5.2 在文件间跳转</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#5-2-1-遍历跳转列表"><span class="nav-number">5.2.1.</span> <span class="nav-text">5.2.1 遍历跳转列表</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-2-2-遍历改变列表"><span class="nav-number">5.2.2.</span> <span class="nav-text">5.2.2 遍历改变列表</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-2-3-跳转到光标下的文件-gf"><span class="nav-number">5.2.3.</span> <span class="nav-text">5.2.3 跳转到光标下的文件[^gf]</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-2-4-用全局位置标记在文件间快速跳转"><span class="nav-number">5.2.4.</span> <span class="nav-text">5.2.4 用全局位置标记在文件间快速跳转</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-寄存器"><span class="nav-number">6.</span> <span class="nav-text">6. 寄存器</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#6-1-复制与粘贴"><span class="nav-number">6.1.</span> <span class="nav-text">6.1 复制与粘贴</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#6-1-1-用无名寄存器实现删除、复制与粘贴操作"><span class="nav-number">6.1.1.</span> <span class="nav-text">6.1.1 用无名寄存器实现删除、复制与粘贴操作</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-1-2-深入理解Vim寄存器"><span class="nav-number">6.1.2.</span> <span class="nav-text">6.1.2 深入理解Vim寄存器</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-1-3-用寄存器中的内容替换高亮选区的文本"><span class="nav-number">6.1.3.</span> <span class="nav-text">6.1.3 用寄存器中的内容替换高亮选区的文本</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-1-4-把寄存器的内容粘贴出来-p"><span class="nav-number">6.1.4.</span> <span class="nav-text">6.1.4 把寄存器的内容粘贴出来[^p]</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-1-5-与系统剪贴板进行交互-paste"><span class="nav-number">6.1.5.</span> <span class="nav-text">6.1.5 与系统剪贴板进行交互[^paste]</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-2-宏"><span class="nav-number">6.2.</span> <span class="nav-text">6.2 宏</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#6-2-1-宏的读取与执行"><span class="nav-number">6.2.1.</span> <span class="nav-text">6.2.1 宏的读取与执行</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-2-2-规范光标位置、直达目标以及中止宏"><span class="nav-number">6.2.2.</span> <span class="nav-text">6.2.2 规范光标位置、直达目标以及中止宏</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-2-3-加次数回放宏"><span class="nav-number">6.2.3.</span> <span class="nav-text">6.2.3 加次数回放宏</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-2-4-在连续的文件行上重复修改"><span class="nav-number">6.2.4.</span> <span class="nav-text">6.2.4 在连续的文件行上重复修改</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-2-5-给宏追加命令"><span class="nav-number">6.2.5.</span> <span class="nav-text">6.2.5 给宏追加命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-2-6-在一组文件中执行宏"><span class="nav-number">6.2.6.</span> <span class="nav-text">6.2.6 在一组文件中执行宏</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-2-7-用迭代求值的方式给列表编号"><span class="nav-number">6.2.7.</span> <span class="nav-text">6.2.7 用迭代求值的方式给列表编号</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-2-8-编辑宏的内容"><span class="nav-number">6.2.8.</span> <span class="nav-text">6.2.8 编辑宏的内容</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-匹配"><span class="nav-number">7.</span> <span class="nav-text">7. 匹配</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#7-1-按模式匹配及按原义匹配"><span class="nav-number">7.1.</span> <span class="nav-text">7.1 按模式匹配及按原义匹配</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#7-1-1-调整查找模式的大小写敏感性"><span class="nav-number">7.1.1.</span> <span class="nav-text">7.1.1 调整查找模式的大小写敏感性</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-1-2-按正则表达式查找时，使用-v模式开关"><span class="nav-number">7.1.2.</span> <span class="nav-text">7.1.2 按正则表达式查找时，使用\v模式开关</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-1-3-按原义查找文本时，使用-V原义开关"><span class="nav-number">7.1.3.</span> <span class="nav-text">7.1.3 按原义查找文本时，使用\V原义开关</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-1-4-使用圆括号捕获子匹配"><span class="nav-number">7.1.4.</span> <span class="nav-text">7.1.4 使用圆括号捕获子匹配</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-1-5-界定单词的边界"><span class="nav-number">7.1.5.</span> <span class="nav-text">7.1.5 界定单词的边界</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-1-6-界定匹配的边界"><span class="nav-number">7.1.6.</span> <span class="nav-text">7.1.6 界定匹配的边界</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-1-7-转义问题字符"><span class="nav-number">7.1.7.</span> <span class="nav-text">7.1.7 转义问题字符</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-2-查找"><span class="nav-number">7.2.</span> <span class="nav-text">7.2 查找</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#7-2-1-结识查找命令"><span class="nav-number">7.2.1.</span> <span class="nav-text">7.2.1 结识查找命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-2-2-高亮查找匹配"><span class="nav-number">7.2.2.</span> <span class="nav-text">7.2.2 高亮查找匹配</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-2-3-在执行查找前预览第一处匹配"><span class="nav-number">7.2.3.</span> <span class="nav-text">7.2.3 在执行查找前预览第一处匹配</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-2-4-统计当前模式的匹配个数"><span class="nav-number">7.2.4.</span> <span class="nav-text">7.2.4 统计当前模式的匹配个数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-2-5-将光标偏移到查找匹配结尾"><span class="nav-number">7.2.5.</span> <span class="nav-text">7.2.5 将光标偏移到查找匹配结尾</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-2-6-对完整的查找匹配进行操作"><span class="nav-number">7.2.6.</span> <span class="nav-text">7.2.6 对完整的查找匹配进行操作</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-2-7-利用查找历史，迭代完成复杂的模式"><span class="nav-number">7.2.7.</span> <span class="nav-text">7.2.7 利用查找历史，迭代完成复杂的模式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-2-8-查找当前高亮选区中的文本"><span class="nav-number">7.2.8.</span> <span class="nav-text">7.2.8 查找当前高亮选区中的文本</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-3-替换"><span class="nav-number">7.3.</span> <span class="nav-text">7.3 替换</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#7-3-1-结识substitute命令"><span class="nav-number">7.3.1.</span> <span class="nav-text">7.3.1 结识substitute命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-3-2-在文件范围内查找并替换每一处匹配"><span class="nav-number">7.3.2.</span> <span class="nav-text">7.3.2 在文件范围内查找并替换每一处匹配</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-3-3-手动控制每一次替换操作"><span class="nav-number">7.3.3.</span> <span class="nav-text">7.3.3 手动控制每一次替换操作</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-3-4-重用上次的查找模式"><span class="nav-number">7.3.4.</span> <span class="nav-text">7.3.4 重用上次的查找模式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-3-5-用寄存器的内容替换"><span class="nav-number">7.3.5.</span> <span class="nav-text">7.3.5 用寄存器的内容替换</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-3-6-重复上一次Substitute命令"><span class="nav-number">7.3.6.</span> <span class="nav-text">7.3.6 重复上一次Substitute命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-3-7-使用子匹配重排CSV文件的字段"><span class="nav-number">7.3.7.</span> <span class="nav-text">7.3.7 使用子匹配重排CSV文件的字段</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-3-8-在替换过程中执行算术运算"><span class="nav-number">7.3.8.</span> <span class="nav-text">7.3.8 在替换过程中执行算术运算</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-3-9-交换两个或更多的单词"><span class="nav-number">7.3.9.</span> <span class="nav-text">7.3.9 交换两个或更多的单词</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-3-10-在多个文件中执行查找与替换"><span class="nav-number">7.3.10.</span> <span class="nav-text">7.3.10 在多个文件中执行查找与替换</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-4-global命令"><span class="nav-number">7.4.</span> <span class="nav-text">7.4 global命令</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#7-4-1-结识global命令"><span class="nav-number">7.4.1.</span> <span class="nav-text">7.4.1 结识global命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-4-2-删除所有包含模式的文本行"><span class="nav-number">7.4.2.</span> <span class="nav-text">7.4.2 删除所有包含模式的文本行</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-4-3-将ToDo项收集至寄存器"><span class="nav-number">7.4.3.</span> <span class="nav-text">7.4.3 将ToDo项收集至寄存器</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-4-4-将CSS文件中所有规则的属性按照字母排序"><span class="nav-number">7.4.4.</span> <span class="nav-text">7.4.4 将CSS文件中所有规则的属性按照字母排序</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8-工具"><span class="nav-number">8.</span> <span class="nav-text">8. 工具</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#8-1-过ctags建立索引，并用其浏览源代码"><span class="nav-number">8.1.</span> <span class="nav-text">8.1 过ctags建立索引，并用其浏览源代码</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#8-1-1-结识ctags"><span class="nav-number">8.1.1.</span> <span class="nav-text">8.1.1 结识ctags</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#8-1-1-1-安装Exuberant-Ctags"><span class="nav-number">8.1.1.1.</span> <span class="nav-text">8.1.1.1 安装Exuberant Ctags</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#8-1-1-2-创建代码库索引"><span class="nav-number">8.1.1.2.</span> <span class="nav-text">8.1.1.2 创建代码库索引</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#8-1-1-3-详解标签文件"><span class="nav-number">8.1.1.3.</span> <span class="nav-text">8.1.1.3 详解标签文件</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#8-1-1-4-用模式定位关键字，而不是行号"><span class="nav-number">8.1.1.4.</span> <span class="nav-text">8.1.1.4 用模式定位关键字，而不是行号</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#8-1-1-5-用元数据标记关键字"><span class="nav-number">8.1.1.5.</span> <span class="nav-text">8.1.1.5 用元数据标记关键字</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-1-2-配置Vim使用ctags"><span class="nav-number">8.1.2.</span> <span class="nav-text">8.1.2 配置Vim使用ctags</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#8-1-2-1-生成标签文件"><span class="nav-number">8.1.2.1.</span> <span class="nav-text">8.1.2.1 生成标签文件</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#8-1-2-2-在每次保存文件时自动执行ctags"><span class="nav-number">8.1.2.2.</span> <span class="nav-text">8.1.2.2 在每次保存文件时自动执行ctags</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#8-1-2-3-通过版本控制工具的回调机制自动执行ctags"><span class="nav-number">8.1.2.3.</span> <span class="nav-text">8.1.2.3 通过版本控制工具的回调机制自动执行ctags</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-1-3-使用Vim的标签中转命令，浏览关键字的定义"><span class="nav-number">8.1.3.</span> <span class="nav-text">8.1.3 使用Vim的标签中转命令，浏览关键字的定义</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-2-编译代码，并通过Quickfix列表浏览错误信息"><span class="nav-number">8.2.</span> <span class="nav-text">8.2 编译代码，并通过Quickfix列表浏览错误信息</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#8-2-1-不用离开Vim也能编译代码"><span class="nav-number">8.2.1.</span> <span class="nav-text">8.2.1 不用离开Vim也能编译代码</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-2-2-浏览Quickfix列表"><span class="nav-number">8.2.2.</span> <span class="nav-text">8.2.2 浏览Quickfix列表</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#8-2-2-1-位置列表以-开头，quickfix只有一份，位置列表有多份"><span class="nav-number">8.2.2.1.</span> <span class="nav-text">8.2.2.1 位置列表以|开头，quickfix只有一份，位置列表有多份</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-2-3-回溯以前的Quickfix列表"><span class="nav-number">8.2.3.</span> <span class="nav-text">8.2.3 回溯以前的Quickfix列表</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-2-4-定制外部编译器"><span class="nav-number">8.2.4.</span> <span class="nav-text">8.2.4 定制外部编译器</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-3-通过grep-vimgrep以及其他工具对整个工程进行查找"><span class="nav-number">8.3.</span> <span class="nav-text">8.3 通过grep,vimgrep以及其他工具对整个工程进行查找</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#8-3-1-不必离开Vim也能调用grep"><span class="nav-number">8.3.1.</span> <span class="nav-text">8.3.1 不必离开Vim也能调用grep</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-3-2-定制grep程序"><span class="nav-number">8.3.2.</span> <span class="nav-text">8.3.2 定制grep程序</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-3-3-自动补全"><span class="nav-number">8.3.3.</span> <span class="nav-text">8.3.3 自动补全</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-3-4-利用Vim的拼写检查器，查找并更正拼写错误"><span class="nav-number">8.3.4.</span> <span class="nav-text">8.3.4 利用Vim的拼写检查器，查找并更正拼写错误</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-3-5-接下来干什么"><span class="nav-number">8.3.5.</span> <span class="nav-text">8.3.5 接下来干什么</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-4-根据个人喜好定制vim"><span class="nav-number">8.4.</span> <span class="nav-text">8.4 根据个人喜好定制vim</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#8-4-1-动态改变vim的设置项"><span class="nav-number">8.4.1.</span> <span class="nav-text">8.4.1 动态改变vim的设置项</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-4-2-将配置信息存至vimrc文件"><span class="nav-number">8.4.2.</span> <span class="nav-text">8.4.2 将配置信息存至vimrc文件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-4-3-为特定类型的文件应用个性化设置"><span class="nav-number">8.4.3.</span> <span class="nav-text">8.4.3 为特定类型的文件应用个性化设置</span></a></li></ol></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2015 - 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">x8087</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>


        

<div class="busuanzi-count">

  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv"><i class="fa fa-user"></i><span class="busuanzi-value" id="busuanzi_value_site_uv"></span></span>
  

  
    <span class="site-pv"><i class="fa fa-eye"></i><span class="busuanzi-value" id="busuanzi_value_site_pv"></span></span>
  
  
</div>



        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"x8087"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
      
      <script src="/lib/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
      <script src="/js/src/hook-duoshuo.js?v=5.1.0"></script>
    
    
    <script src="/lib/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  








  
  

  

  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script>
  <script>AV.initialize("vplbqDrK7KP8HzD5uBan8fgD-gzGzoHsz", "TQ074jpoPCHUVWRFj6eMu7KS");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  


</body>
</html>
